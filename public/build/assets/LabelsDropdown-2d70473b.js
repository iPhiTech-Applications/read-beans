import{j as r,B as f,r as l,G as m}from"./app-123ed893.js";import{L as d}from"./Label-79df7e30.js";import{u as w,C as e}from"./Combobox-8cde05d4.js";import{I as c}from"./Input-0c5af4bd.js";import{P as x}from"./PillsInput-73e8ed46.js";import{P as D}from"./Pill-bab5faf2.js";import{a as b}from"./CheckIcon-5474d37b.js";import"./ColorSwatch-d7027f3b.js";import"./Text-7a8e0ced.js";import"./Popover-3d4b00cf.js";import"./DirectionProvider-739d2a13.js";import"./use-floating-auto-update-c5e4584a.js";import"./use-uncontrolled-fce7b9fe.js";import"./create-optional-context-f78ae3e4.js";import"./InputBase-ad5899ec.js";function T({items:p,selected:n,onChange:a,...u}){const s=w({onDropdownClose:()=>s.resetSelectedOption(),onDropdownOpen:()=>s.updateSelectedOptionIndex("active")}),h=o=>a(n.includes(o)?n.filter(i=>i!==o):[...n,o]),t=o=>a(n.filter(i=>i!==o));return r.jsxs(f,{...u,children:[r.jsx(c.Label,{children:"Labels"}),r.jsxs(e,{store:s,onOptionSubmit:h,withinPortal:!1,disabled:!can("edit task"),children:[r.jsx(e.DropdownTarget,{children:r.jsx(x,{pointer:!0,onClick:()=>s.toggleDropdown(),children:r.jsxs(D.Group,{style:{rowGap:l(3),columnGap:l(12)},children:[n.length>0?n.map(o=>{const i=p.find(j=>j.id===o);return r.jsx(d,{name:i.name,color:i.color,size:11,onRemove:()=>t(i)},i.id)}):r.jsx(c.Placeholder,{children:"Select labels"}),r.jsx(e.EventsTarget,{children:r.jsx(x.Field,{type:"hidden",onBlur:()=>s.closeDropdown(),onKeyDown:o=>{o.key==="Backspace"&&(o.preventDefault(),t(n[n.length-1]))}})})]})})}),r.jsx(e.Dropdown,{children:r.jsx(e.Options,{children:p.map(o=>r.jsx(e.Option,{value:o.id,active:n.includes(o.id),children:r.jsxs(m,{gap:"sm",children:[n.includes(o.id)?r.jsx(b,{size:12}):null,r.jsx(m,{gap:7,children:r.jsx(d,{name:o.name,color:o.color,size:11,onRemove:()=>t(o)})})]})},o.id))})})]})]})}export{T as default};
