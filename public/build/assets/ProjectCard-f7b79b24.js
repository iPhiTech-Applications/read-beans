import{v as E,f,e as y,R as u,B as C,h as L,i as T,o as B,s as G,u as D,g as I,t as O,j as e,d as V,G as A}from"./app-374f8179.js";import{g as F}from"./user-6639b4f0.js";import M from"./FavoriteToggle-d56c82d7.js";import q from"./ProjectCardActions-df2c7690.js";import{C as H}from"./Card-13651296.js";import{T as h}from"./Text-54f93905.js";import{u as J}from"./use-resolved-styles-api-9ab1b421.js";import{g as K}from"./get-auto-contrast-value-58024fc4.js";import{T as k}from"./Tooltip-0b66e8a5.js";import{A as N}from"./Avatar-2c990df2.js";import"./index-1f185179.js";import"./IconStarFilled-cb330f63.js";import"./createReactComponent-8eeb0f88.js";import"./IconStar-2eb02799.js";import"./ConfirmModal-37455e94.js";import"./useForm-026f8df8.js";import"./UserAccessModal-252df334.js";import"./MultiSelect-cb840792.js";import"./OptionsDropdown-a64bbc14.js";import"./CheckIcon-36b72f38.js";import"./ScrollArea-9a506a5f.js";import"./DirectionProvider-7f2be802.js";import"./Combobox-a1cc1704.js";import"./Popover-3f93f166.js";import"./use-floating-auto-update-94ecc69c.js";import"./use-uncontrolled-c541d6c8.js";import"./Input-cbe427a8.js";import"./create-optional-context-a355ac42.js";import"./InputBase-229a26b3.js";import"./Pill-9cb7cf61.js";import"./PillsInput-69abf6c0.js";import"./Flex-25d97275.js";import"./Menu-a0964952.js";import"./ActionIcon-6bed75e6.js";import"./IconDots-1660ad36.js";import"./IconUsers-7ba2e0c4.js";import"./IconPencil-71dcb0ee.js";import"./IconArchive-9b9931d8.js";import"./get-style-object-71cabcb5.js";const[Q,$]=E("Progress.Root component was not found in tree");var _={root:"m-db6d6462",section:"m-2242eb65","stripes-animation":"m-81a374bd",label:"m-91e40b74"};const U={},S=f((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:g,...n}=y("ProgressLabel",U,s),c=$();return u.createElement(C,{ref:o,...c.getStyles("label",{className:r,style:l,classNames:t,styles:a}),...n})});S.classes=_;S.displayName="@mantine/core/ProgressLabel";const W={},X=T((s,{size:o,radius:t,transitionDuration:r})=>({root:{"--progress-size":B(o,"progress-size"),"--progress-radius":t===void 0?void 0:G(t),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}})),j=f((s,o)=>{const t=y("ProgressRoot",W,s),{classNames:r,className:l,style:a,styles:g,unstyled:n,vars:c,autoContrast:m,transitionDuration:v,...p}=t,d=L({name:"Progress",classes:_,props:t,className:l,style:a,classNames:r,styles:g,unstyled:n,vars:c,varsResolver:X});return u.createElement(Q,{value:{getStyles:d,autoContrast:m}},u.createElement(C,{ref:o,...d("root"),...p}))});j.classes=_;j.displayName="@mantine/core/ProgressRoot";const Y={withAria:!0},P=f((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:g,value:n,withAria:c,color:m,striped:v,animated:p,mod:d,...b}=y("ProgressSection",Y,s),R=$(),w=D(),z=c?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":n,"aria-valuetext":`${n}%`}:{};return u.createElement(C,{ref:o,...R.getStyles("section",{className:r,classNames:t,styles:a,style:l}),...b,...z,mod:[{striped:v||p,animated:p},d],__vars:{"--progress-section-width":`${n}%`,"--progress-section-color":I(m,w),"--progress-label-color":K(R.autoContrast,w)?O({color:m,theme:w}):void 0}})});P.classes=_;P.displayName="@mantine/core/ProgressSection";const Z={},i=f((s,o)=>{const t=y("Progress",Z,s),{value:r,classNames:l,styles:a,vars:g,color:n,striped:c,animated:m,"aria-label":v,...p}=t,{resolvedClassNames:d,resolvedStyles:b}=J({classNames:l,styles:a,props:t});return u.createElement(j,{ref:o,classNames:d,styles:b,vars:g,...p},u.createElement(P,{value:r,color:n,striped:c,animated:m,"aria-label":v}))});i.classes=_;i.displayName="@mantine/core/Progress";i.Section=P;i.Root=j;i.Label=S;const ss=s=>{(s.target.dataset.ignoreLink||s.target.parentNode.dataset.ignoreLink)&&s.preventDefault()},es="_link_wt9y9_1",ts="_card_wt9y9_5",rs="_title_wt9y9_11",x={link:es,card:ts,title:rs};function Ms({item:s}){var r,l;const o=s.completed_tasks_count/s.all_tasks_count*100,t=s.overdue_tasks_count/s.all_tasks_count*100;return e.jsx(V,{href:route("projects.tasks",s.id),className:x.link,onClick:ss,children:e.jsxs(H,{withBorder:!0,padding:"xl",radius:"md",w:350,className:x.card,children:[e.jsxs(A,{justify:"space-between",children:[e.jsx(h,{fz:23,fw:700,className:x.title,children:s.name}),e.jsx(M,{item:s})]}),e.jsx(h,{fz:"sm",fw:500,children:(r=s.client_company)==null?void 0:r.name}),((l=s.description)==null?void 0:l.length)>0&&e.jsx(h,{fz:"sm",c:"dimmed",mt:"lg",children:s.description}),e.jsxs(h,{c:"dimmed",fz:"sm",mt:"md",children:["Completed tasks:"," ",e.jsxs(h,{span:!0,fw:500,c:"bright",children:[s.completed_tasks_count," / ",s.all_tasks_count]})]}),e.jsxs(i.Root,{value:s.all_tasks_count,mt:10,radius:"xl",children:[e.jsx(k,{label:`Completed: ${s.completed_tasks_count}`,withArrow:!0,children:e.jsx(i.Section,{value:o,color:"blue"})}),e.jsx(k,{label:`Overdue: ${s.overdue_tasks_count}`,withArrow:!0,children:e.jsx(i.Section,{value:t,color:"red"})}),e.jsx(i.Section,{value:100-(o+t),color:"gray"})]}),e.jsxs(A,{justify:"space-between",mt:"md",children:[e.jsxs(N.Group,{spacing:"sm",children:[s.users_with_access.slice(0,4).map(a=>e.jsx(k,{label:a.name,openDelay:300,withArrow:!0,children:e.jsx(N,{src:a.avatar,radius:"xl",style:{cursor:"default"},"data-ignore-link":!0,className:x.avatar,children:F(a.name)})},a.id)),s.users_with_access.length-4>0&&e.jsxs(N,{radius:"xl",children:["+",s.users_with_access.length-4]})]}),e.jsx(q,{item:s})]})]})})}export{Ms as default};
