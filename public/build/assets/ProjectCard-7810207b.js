import{u as M,R as p,B as y,g as D,f as B,e as F,h as G,i as O,r as v,j as a,G as x}from"./app-0842237d.js";import{C as A}from"./Card-4515f391.js";import{a as V}from"./route-426ef2aa.js";import{r as W}from"./round-409d255c.js";import{S as q}from"./Stack-1638e70e.js";import{T as H}from"./Title-a0ed43dd.js";import{I as J}from"./IconStarFilled-c196212e.js";import{T as k}from"./Text-0f25386e.js";import{T as C}from"./Tooltip-0fe109d8.js";import"./Card-1af60012.js";import"./_baseClone-98204728.js";import"./createReactComponent-c737850d.js";import"./DirectionProvider-8ec7ed91.js";import"./use-floating-auto-update-f3813b40.js";import"./get-style-object-71cabcb5.js";function K({size:e,thickness:s,sum:t,value:l,root:u,offset:m}){const i=(e*.9-s*2)/2,n=Math.PI*i*2/100,r=u||l===void 0?`${(100-t)*n}, ${t*n}`:`${l*n}, ${(100-l)*n}`;return{strokeWidth:Number.isNaN(s)?12:s,cx:e/2||0,cy:e/2||0,r:i||0,transform:u?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:r,strokeDashoffset:u?0:m||0}}function R({size:e,value:s,offset:t,sum:l,thickness:u,root:m,color:i,lineRoundCaps:n,tooltip:r,getStyles:c,display:o,...d}){const g=M();return p.createElement(C.Floating,{disabled:!r,label:r},p.createElement(y,{component:"circle",...d,...c("curve"),__vars:{"--curve-color":i?D(i,g):void 0},fill:"none",strokeLinecap:n?"round":"butt",...K({sum:l,size:e,thickness:u,value:s,offset:t,root:m})}))}R.displayName="@mantine/core/Curve";function L({size:e,thickness:s,sections:t,renderRoundedLineCaps:l,rootColor:u}){const m=t.reduce((o,d)=>o+d.value,0),i=Math.PI*((e*.9-s*2)/2)*2;let n=i;const r=[],c=[];for(let o=0;o<t.length;o+=1)r.push({sum:m,offset:n,data:t[o],root:!1}),n-=t[o].value/100*i;if(r.push({sum:m,offset:n,data:{color:u},root:!0}),c.push({...r[r.length-1],lineRoundCaps:!1}),r.length>2){c.push({...r[0],lineRoundCaps:l}),c.push({...r[r.length-2],lineRoundCaps:l});for(let o=1;o<=r.length-3;o+=1)c.push({...r[o],lineRoundCaps:!1})}else c.push({...r[0],lineRoundCaps:l});return c}var P={root:"m-b32e4812",svg:"m-d43b5134",curve:"m-b1ca1fbf",label:"m-b23f9dc4"};function Q(e,s){return Math.min(e||12,(s||120)/4)}const U={size:120,thickness:12},X=O((e,{size:s,thickness:t})=>({root:{"--rp-size":v(s),"--rp-label-offset":v(t*2)}})),_=B((e,s)=>{const t=F("RingProgress",U,e),{classNames:l,className:u,style:m,styles:i,unstyled:n,vars:r,label:c,sections:o,size:d,thickness:g,roundCaps:T,rootColor:w,...N}=t,f=G({name:"RingProgress",classes:P,props:t,className:u,style:m,classNames:l,styles:i,unstyled:n,vars:r,varsResolver:X}),b=Q(g,d),$=L({size:d,thickness:b,sections:o,renderRoundedLineCaps:T,rootColor:w}).map(({data:h,sum:E,root:j,lineRoundCaps:z,offset:I},S)=>p.createElement(R,{...h,key:S,size:d,thickness:b,sum:E,offset:I,color:h==null?void 0:h.color,root:j,lineRoundCaps:z,getStyles:f}));return p.createElement(y,{...f("root"),size:d,ref:s,...N},p.createElement("svg",{...f("svg")},$),c&&p.createElement("div",{...f("label")},c))});_.classes=P;_.displayName="@mantine/core/RingProgress";const Y="_link_kcnen_1",Z={link:Y};function he({project:e}){let s=0,t=0;return e.all_tasks_count>0&&(s=e.completed_tasks_count/e.all_tasks_count*100,t=e.overdue_tasks_count/e.all_tasks_count*100),a.jsx(A,{bg:"none",children:a.jsxs(x,{justify:"space-between",wrap:"nowrap",children:[a.jsxs(q,{gap:6,children:[a.jsx(x,{justify:"space-between",children:a.jsxs(H,{fz:24,onClick:()=>V("projects.tasks",e.id),className:Z.link,children:[e.favorite&&a.jsx(J,{style:{color:"var(--mantine-color-yellow-4)",width:v(15),height:v(15),marginRight:10}}),e.name]})}),a.jsx(k,{fz:"xs",fw:700,c:"dimmed",mb:4,children:e.client_company.name}),a.jsx("div",{children:a.jsx(C,{label:"Completed tasks",openDelay:500,withArrow:!0,children:a.jsxs(k,{fz:"lg",fw:500,inline:!0,span:!0,children:["Tasks: ",e.completed_tasks_count," / ",e.all_tasks_count]})})})]}),a.jsx(_,{size:100,thickness:10,sections:[{value:100-(s+t),color:"gray"},{value:t,color:"red",tooltip:`Overdue: ${e.overdue_tasks_count}`},{value:s,color:"blue",tooltip:`Completed: ${e.completed_tasks_count}`}],label:a.jsxs(k,{fz:15,fw:700,ta:"center",children:[W(s),"%"]})})]})})}export{he as ProjectCard};
