import{b as y,x as dt,f as M,e as E,R as c,U as B,B as O,ag as gt,h as mt,i as ht,s as pt,o as vt,Y as ft,g as Pt,t as xt,G as U,j as l,y as Ct,r as G}from"./app-0842237d.js";import{c as b}from"./Menu-f81784eb.js";import{g as yt}from"./get-auto-contrast-value-58024fc4.js";import{u as wt}from"./use-uncontrolled-8c49da27.js";import{T as w}from"./Table-92ee78f1.js";import{T as V}from"./Text-0f25386e.js";import{C as Et}from"./Center-ca7815fd.js";import{c as Z}from"./createReactComponent-c737850d.js";function f(t,e){const n=e-t+1;return Array.from({length:n},(a,r)=>r+t)}const R="dots";function It({total:t,siblings:e=1,boundaries:n=1,page:a,initialPage:r=1,onChange:o}){const s=Math.max(Math.trunc(t),0),[i,m]=wt({value:a,onChange:o,defaultValue:r,finalValue:r}),u=x=>{x<=0?m(1):x>s?m(s):m(x)},h=()=>u(i+1),d=()=>u(i-1),p=()=>u(1),v=()=>u(s);return{range:y.useMemo(()=>{if(e*2+3+n*2>=s)return f(1,s);const F=Math.max(i-e,n),$=Math.min(i+e,s-n),N=F>n+2,j=$<s-(n+1);if(!N&&j){const C=e*2+n+2;return[...f(1,C),R,...f(s-(n-1),s)]}if(N&&!j){const C=n+1+2*e;return[...f(1,n),R,...f(s-C,s)]}return[...f(1,n),R,...f(F,$),R,...f(s-n+1,s)]},[s,e,i]),active:i,setPage:u,next:h,previous:d,first:p,last:v}}const[Lt,T]=dt("Pagination.Root component was not found in tree");var I={root:"m-4addd315",control:"m-326d024a",dots:"m-4ad7767d"};const St={withPadding:!0},L=M((t,e)=>{const n=E("PaginationControl",St,t),{classNames:a,className:r,style:o,styles:s,vars:i,active:m,disabled:u,withPadding:h,mod:d,...p}=n,v=T(),P=u||v.disabled;return c.createElement(B,{ref:e,disabled:P,mod:[{active:m,disabled:P,"with-padding":h},d],...v.getStyles("control",{className:r,style:o,classNames:a,styles:s,active:!P}),...p})});L.classes=I;L.displayName="@mantine/core/PaginationControl";function S({style:t,children:e,path:n,...a}){return c.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...t},...a},c.createElement("path",{d:n,fill:"currentColor"}))}const Nt=t=>c.createElement(S,{...t,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),jt=t=>c.createElement(S,{...t,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),bt=t=>c.createElement(S,{...t,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),Rt=t=>c.createElement(S,{...t,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),zt=t=>c.createElement(S,{...t,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),Mt={icon:zt},D=M((t,e)=>{const n=E("PaginationDots",Mt,t),{classNames:a,className:r,style:o,styles:s,vars:i,icon:m,...u}=n,h=T(),d=m;return c.createElement(O,{ref:e,...h.getStyles("dots",{className:r,style:o,styles:s,classNames:a}),...u},c.createElement(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}}))});D.classes=I;D.displayName="@mantine/core/PaginationDots";function _({icon:t,name:e,action:n,type:a}){const r={icon:t},o=y.forwardRef((s,i)=>{const{icon:m,...u}=E(e,r,s),h=m,d=T(),p=a==="next"?d.active===d.total:d.active===1;return c.createElement(L,{disabled:d.disabled||p,ref:i,onClick:d[n],withPadding:!1,...u},c.createElement(h,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}}))});return o.displayName=`@mantine/core/${e}`,gt(o)}const Y=_({icon:Nt,name:"PaginationNext",action:"onNext",type:"next"}),q=_({icon:jt,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),J=_({icon:bt,name:"PaginationFirst",action:"onFirst",type:"previous"}),K=_({icon:Rt,name:"PaginationLast",action:"onLast",type:"next"});function A({dotsIcon:t}){const e=T(),n=e.range.map((a,r)=>{var o;return a==="dots"?c.createElement(D,{icon:t,key:r}):c.createElement(L,{key:r,active:a===e.active,"aria-current":a===e.active?"page":void 0,onClick:()=>e.onChange(a),disabled:e.disabled,...(o=e.getItemProps)==null?void 0:o.call(e,a)},a)});return c.createElement(c.Fragment,null,n)}A.displayName="@mantine/core/PaginationItems";const Tt={siblings:1,boundaries:1},Dt=ht((t,{size:e,radius:n,color:a,autoContrast:r})=>({root:{"--pagination-control-radius":n===void 0?void 0:pt(n),"--pagination-control-size":vt(e,"pagination-control-size"),"--pagination-control-fz":ft(e),"--pagination-active-bg":a?Pt(a,t):void 0,"--pagination-active-color":yt(r,t)?xt({color:a,theme:t}):void 0}})),k=M((t,e)=>{const n=E("PaginationRoot",Tt,t),{classNames:a,className:r,style:o,styles:s,unstyled:i,vars:m,total:u,value:h,defaultValue:d,onChange:p,disabled:v,siblings:P,boundaries:x,color:F,radius:$,onNextPage:N,onPreviousPage:j,onFirstPage:C,onLastPage:Q,getItemProps:W,autoContrast:Ht,...X}=n,H=mt({name:"Pagination",classes:I,props:n,className:r,style:o,classNames:a,styles:s,unstyled:i,vars:m,varsResolver:Dt}),{range:tt,setPage:et,next:nt,previous:ot,active:at,first:st,last:rt}=It({page:h,initialPage:d,onChange:p,total:u,siblings:P,boundaries:x}),ct=b(N,nt),it=b(j,ot),lt=b(C,st),ut=b(Q,rt);return c.createElement(Lt,{value:{total:u,range:tt,active:at,disabled:v,getItemProps:W,onChange:et,onNext:ct,onPrevious:it,onFirst:lt,onLast:ut,getStyles:H}},c.createElement(O,{ref:e,...H("root"),...X}))});k.classes=I;k.displayName="@mantine/core/PaginationRoot";const _t={withControls:!0,siblings:1,boundaries:1,gap:8},g=M((t,e)=>{const n=E("Pagination",_t,t),{withEdges:a,withControls:r,getControlProps:o,nextIcon:s,previousIcon:i,lastIcon:m,firstIcon:u,dotsIcon:h,total:d,gap:p,...v}=n;return d<=0?null:c.createElement(k,{ref:e,total:d,...v},c.createElement(U,{gap:p},a&&c.createElement(J,{icon:u,...o==null?void 0:o("first")}),r&&c.createElement(q,{icon:i,...o==null?void 0:o("previous")}),c.createElement(A,{dotsIcon:h}),r&&c.createElement(Y,{icon:s,...o==null?void 0:o("next")}),a&&c.createElement(K,{icon:m,...o==null?void 0:o("last")})))});g.classes=I;g.displayName="@mantine/core/Pagination";g.Root=k;g.Control=L;g.Dots=D;g.First=J;g.Last=K;g.Next=Y;g.Previous=q;g.Items=A;var kt=Z("chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]),Ft=Z("chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]),$t=Z("selector","IconSelector",[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]]);function Xt({current:t,pages:e,routeName:n=null}){return n||(n=route().current()),l.jsx(g.Root,{value:t,total:e,siblings:2,onChange:a=>Ct.get(route(n,{...route().params,page:a})),children:l.jsxs(U,{gap:5,justify:"center",children:[l.jsx(g.Previous,{}),l.jsx(g.Items,{}),l.jsx(g.Next,{})]})})}const Bt="_th_ug1wn_1",Vt="_control_ug1wn_5",Ut="_icon_ug1wn_14",z={th:Bt,control:Vt,icon:Ut};function Zt({children:t,reversed:e,sorted:n,sortable:a,onSort:r}){const o=n?e?Ft:kt:$t;return l.jsx(w.Th,{className:z.th,children:a!==!1?l.jsx(B,{onClick:r,className:z.control,children:l.jsxs(U,{justify:"space-between",children:[l.jsx(V,{fw:500,fz:"sm",children:t}),l.jsx(Et,{className:z.icon,children:l.jsx(o,{style:{width:G(16),height:G(16)},stroke:1.5})})]})}):l.jsx(B,{className:z.control,style:{cursor:"default"},children:l.jsx(V,{fw:500,fz:"sm",children:t})})})}function At(t){const[e,n]=y.useState(null),[a,r]=y.useState(!1),o=s=>{const i=s===e?!a:!1;r(i),n(s),t({sort:{[s]:i?"desc":"asc"}})};return y.useEffect(()=>{const s=route().params.sort;if(s){const i=Object.keys(s)[0];n(i),r(s[i]==="desc")}},[]),[e,a,o]}function te({columns:t,sort:e}){const[n,a,r]=At(e);return l.jsx(w.Thead,{children:l.jsx(w.Tr,{children:t.map(o=>l.jsx(Zt,{column:o.column,sorted:n===o.column,reversed:a,sortable:o.sortable,onSort:()=>r(o.column),children:o.label},o.column||o.label))})})}function ee(t){return l.jsx(w.Tr,{children:l.jsx(w.Td,{...t,children:l.jsx(V,{fz:"md",ta:"center",py:50,children:"No items were found"})})})}const ne=t=>t.filter(e=>e.visible!==!1),oe=t=>can(`edit ${t}`)&&!route().params.archived||can(`archive ${t}`)&&!route().params.archived||can(`restore ${t}`)&&route().params.archived;export{Xt as P,ee as T,oe as a,te as b,ne as p};
