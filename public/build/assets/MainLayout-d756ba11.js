import{b as N,k as Ae,C as _e,A as Ie,f as A,e as j,u as J,D as Ce,R as g,B as x,E as he,h as Q,O as Se,i as Z,r as c,x as ze,F as fe,H as ue,I as C,J as Ee,K as ce,L as Re,M as $e,N as Te,P as Me,Q as Pe,g as Be,t as Fe,s as De,j as r,G as B,q as U,U as M,S as Le,y as Ve,c as He}from"./app-123ed893.js";import{F as Ue}from"./FlashNotification-b862f807.js";import{u as me,a as We}from"./useWebSockets-fcdec77b.js";import{u as ve,a as Oe}from"./use-computed-color-scheme-c3233f71.js";import{C as Ge}from"./Container-2b0776cc.js";import{I as qe}from"./Image-34973361.js";import{c as Xe,p as pe}from"./index-ffe472df.js";import{r as Y,a as H}from"./route-002f9c56.js";import{c as w}from"./createReactComponent-7e1f628b.js";import{g as Ye}from"./get-style-object-71cabcb5.js";import{g as Je}from"./user-6639b4f0.js";import{M as b}from"./Menu-d1d9bfc4.js";import{A as Qe}from"./Avatar-4dc21544.js";import{T as P}from"./Text-7a8e0ced.js";import{u as Ze}from"./upper-first-a5ff10ec.js";import{I as Ke}from"./IconLayoutList-598e38ee.js";import{I as et}from"./IconUsers-406c3d56.js";import{S as tt}from"./ScrollArea-8472fe95.js";import{E as st}from"./EmptyWithIcon-88b1d926.js";import{c as ot}from"./datetime-cf4f36e6.js";import{I as ge}from"./IconMessage-c104645d.js";import{g as at}from"./get-auto-contrast-value-58024fc4.js";import{A as nt}from"./ActionIcon-4294e0c7.js";import{T as rt}from"./Title-1ca1d242.js";import{C as it}from"./Center-5909643e.js";import{g as be,a as de}from"./get-sorted-breakpoints-230439b0.js";function lt(s){if(!s||typeof s=="string")return 0;const o=s/36;return Math.round((4+15*o**.25+o/5)*10)}function q(s){return s!=null&&s.current?s.current.scrollHeight:"auto"}const T=typeof window<"u"&&window.requestAnimationFrame;function ct({transitionDuration:s,transitionTimingFunction:o="ease",onTransitionEnd:t=()=>{},opened:e}){const l=N.useRef(null),n=0,a={display:"none",height:0,overflow:"hidden"},[p,d]=N.useState(e?{}:a),f=m=>{Ie.flushSync(()=>d(m))},u=m=>{f(k=>({...k,...m}))};function i(m){const k=s||lt(m);return{transition:`height ${k}ms ${o}, opacity ${k}ms ${o}`}}Ae(()=>{typeof T=="function"&&T(e?()=>{u({willChange:"height",display:"block",overflow:"hidden"}),T(()=>{const m=q(l);u({...i(m),height:m})})}:()=>{const m=q(l);u({...i(m),willChange:"height",height:m}),T(()=>u({height:n,overflow:"hidden"}))})},[e]);const v=m=>{if(!(m.target!==l.current||m.propertyName!=="height"))if(e){const k=q(l);k===p.height?f({}):u({height:k}),t()}else p.height===n&&(f(a),t())};function h({style:m={},refKey:k="ref",...S}={}){const I=S[k];return{"aria-hidden":!e,...S,[k]:_e(l,I),onTransitionEnd:v,style:{boxSizing:"border-box",...m,...p}}}return h}const pt={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},xe=A((s,o)=>{const{children:t,in:e,transitionDuration:l,transitionTimingFunction:n,style:a,onTransitionEnd:p,animateOpacity:d,...f}=j("Collapse",pt,s),u=J(),i=Ce(),h=(u.respectReducedMotion?i:!1)?0:l,m=ct({opened:e,transitionDuration:h,transitionTimingFunction:n,onTransitionEnd:p});return h===0?e?g.createElement(x,{...f},t):null:g.createElement(x,{...m({style:{opacity:e||!d?1:0,transition:d?`opacity ${h}ms ${n}`:"none",...Ye(a,u)},ref:o,...f})},t)});xe.displayName="@mantine/core/Collapse";var ke={root:"m-7f854edf"};const dt={position:{bottom:0,right:0},zIndex:he("modal"),withinPortal:!0},ht=Z((s,{zIndex:o,position:t})=>({root:{"--affix-z-index":o==null?void 0:o.toString(),"--affix-top":c(t==null?void 0:t.top),"--affix-left":c(t==null?void 0:t.left),"--affix-bottom":c(t==null?void 0:t.bottom),"--affix-right":c(t==null?void 0:t.right)}})),K=A((s,o)=>{const t=j("Affix",dt,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,portalProps:f,zIndex:u,withinPortal:i,position:v,...h}=t,m=Q({name:"Affix",classes:ke,props:t,className:l,style:n,classNames:e,styles:a,unstyled:p,vars:d,varsResolver:ht});return g.createElement(Se,{...f,withinPortal:i},g.createElement(x,{ref:o,...m("root"),...h}))});K.classes=ke;K.displayName="@mantine/core/Affix";const[ft,R]=ze("AppShell was not found in tree");var _={root:"m-89ab340",navbar:"m-45252eee",aside:"m-9cdde9a",header:"m-3b16f56b",main:"m-8983817",footer:"m-3840c879",section:"m-6dcfc7c7"};const ut={},ee=A((s,o)=>{const t=j("AppShellAside",ut,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,withBorder:f,zIndex:u,mod:i,...v}=t,h=R();return h.disabled?null:g.createElement(x,{component:"aside",ref:o,mod:[{"with-border":f??h.withBorder},i],...h.getStyles("aside",{className:l,classNames:e,styles:a,style:n}),...v,__vars:{"--app-shell-aside-z-index":`calc(${u??h.zIndex} + 1)`}})});ee.classes=_;ee.displayName="@mantine/core/AppShellAside";const mt={},te=A((s,o)=>{var m;const t=j("AppShellFooter",mt,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,withBorder:f,zIndex:u,mod:i,...v}=t,h=R();return h.disabled?null:g.createElement(x,{component:"footer",ref:o,mod:[{"with-border":f??h.withBorder},i],...h.getStyles("footer",{className:fe({[ue.classNames.zeroRight]:h.offsetScrollbars},l),classNames:e,styles:a,style:n}),...v,__vars:{"--app-shell-footer-z-index":(m=u??h.zIndex)==null?void 0:m.toString()}})});te.classes=_;te.displayName="@mantine/core/AppShellFooter";const vt={},se=A((s,o)=>{var m;const t=j("AppShellHeader",vt,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,withBorder:f,zIndex:u,mod:i,...v}=t,h=R();return h.disabled?null:g.createElement(x,{component:"header",ref:o,mod:[{"with-border":f??h.withBorder},i],...h.getStyles("header",{className:fe({[ue.classNames.zeroRight]:h.offsetScrollbars},l),classNames:e,styles:a,style:n}),...v,__vars:{"--app-shell-header-z-index":(m=u??h.zIndex)==null?void 0:m.toString()}})});se.classes=_;se.displayName="@mantine/core/AppShellHeader";const gt={},oe=A((s,o)=>{const t=j("AppShellMain",gt,s),{classNames:e,className:l,style:n,styles:a,vars:p,...d}=t,f=R();return g.createElement(x,{component:"main",ref:o,...f.getStyles("main",{className:l,style:n,classNames:e,styles:a}),...d})});oe.classes=_;oe.displayName="@mantine/core/AppShellMain";function F(s){return typeof s=="object"?s.base:s}function D(s){const o=typeof s=="object"&&s!==null&&typeof s.base<"u"&&Object.keys(s).length===1;return typeof s=="number"||typeof s=="string"||o}function L(s){return!(typeof s!="object"||s===null||Object.keys(s).length===1&&"base"in s)}function bt({baseStyles:s,minMediaStyles:o,maxMediaStyles:t,aside:e,theme:l}){var d,f,u;const n=e==null?void 0:e.width,a="translateX(var(--app-shell-aside-width))",p="translateX(calc(var(--app-shell-aside-width) * -1))";if(e!=null&&e.breakpoint&&!((d=e==null?void 0:e.collapsed)!=null&&d.mobile)&&(t[e==null?void 0:e.breakpoint]=t[e==null?void 0:e.breakpoint]||{},t[e==null?void 0:e.breakpoint]["--app-shell-aside-width"]="100%",t[e==null?void 0:e.breakpoint]["--app-shell-aside-offset"]="0px"),D(n)){const i=c(F(n));s["--app-shell-aside-width"]=i,s["--app-shell-aside-offset"]=i}if(L(n)&&(typeof n.base<"u"&&(s["--app-shell-aside-width"]=c(n.base),s["--app-shell-aside-offset"]=c(n.base)),C(n).forEach(i=>{i!=="base"&&(o[i]=o[i]||{},o[i]["--app-shell-aside-width"]=c(n[i]),o[i]["--app-shell-aside-offset"]=c(n[i]))})),(f=e==null?void 0:e.collapsed)!=null&&f.desktop){const i=e.breakpoint;o[i]=o[i]||{},o[i]["--app-shell-aside-transform"]=a,o[i]["--app-shell-aside-transform-rtl"]=p,o[i]["--app-shell-aside-offset"]="0px !important"}if((u=e==null?void 0:e.collapsed)!=null&&u.mobile){const i=be(e.breakpoint,l)-.1;t[i]=t[i]||{},t[i]["--app-shell-aside-width"]="100%",t[i]["--app-shell-aside-offset"]="0px",t[i]["--app-shell-aside-transform"]=a,t[i]["--app-shell-aside-transform-rtl"]=p}}function xt({baseStyles:s,minMediaStyles:o,footer:t}){const e=t==null?void 0:t.height,l="translateY(var(--app-shell-footer-height))",n=(t==null?void 0:t.offset)??!0;if(D(e)){const a=c(F(e));s["--app-shell-footer-height"]=a,n&&(s["--app-shell-footer-offset"]=a)}L(e)&&(typeof e.base<"u"&&(s["--app-shell-footer-height"]=c(e.base),n&&(s["--app-shell-footer-offset"]=c(e.base))),C(e).forEach(a=>{a!=="base"&&(o[a]=o[a]||{},o[a]["--app-shell-footer-height"]=c(e[a]),n&&(o[a]["--app-shell-footer-offset"]=c(e[a])))})),t!=null&&t.collapsed&&(s["--app-shell-footer-transform"]=l,s["--app-shell-footer-offset"]="0px !important")}function kt({baseStyles:s,minMediaStyles:o,header:t}){const e=t==null?void 0:t.height,l="translateY(calc(var(--app-shell-header-height) * -1))",n=(t==null?void 0:t.offset)??!0;if(D(e)){const a=c(F(e));s["--app-shell-header-height"]=a,n&&(s["--app-shell-header-offset"]=a)}L(e)&&(typeof e.base<"u"&&(s["--app-shell-header-height"]=c(e.base),n&&(s["--app-shell-header-offset"]=c(e.base))),C(e).forEach(a=>{a!=="base"&&(o[a]=o[a]||{},o[a]["--app-shell-header-height"]=c(e[a]),n&&(o[a]["--app-shell-header-offset"]=c(e[a])))})),t!=null&&t.collapsed&&(s["--app-shell-header-transform"]=l,s["--app-shell-header-offset"]="0px !important")}function wt({baseStyles:s,minMediaStyles:o,maxMediaStyles:t,navbar:e,theme:l}){var d,f,u;const n=e==null?void 0:e.width,a="translateX(calc(var(--app-shell-navbar-width) * -1))",p="translateX(var(--app-shell-navbar-width))";if(e!=null&&e.breakpoint&&!((d=e==null?void 0:e.collapsed)!=null&&d.mobile)&&(t[e==null?void 0:e.breakpoint]=t[e==null?void 0:e.breakpoint]||{},t[e==null?void 0:e.breakpoint]["--app-shell-navbar-width"]="100%",t[e==null?void 0:e.breakpoint]["--app-shell-navbar-offset"]="0px"),D(n)){const i=c(F(n));s["--app-shell-navbar-width"]=i,s["--app-shell-navbar-offset"]=i}if(L(n)&&(typeof n.base<"u"&&(s["--app-shell-navbar-width"]=c(n.base),s["--app-shell-navbar-offset"]=c(n.base)),C(n).forEach(i=>{i!=="base"&&(o[i]=o[i]||{},o[i]["--app-shell-navbar-width"]=c(n[i]),o[i]["--app-shell-navbar-offset"]=c(n[i]))})),(f=e==null?void 0:e.collapsed)!=null&&f.desktop){const i=e.breakpoint;o[i]=o[i]||{},o[i]["--app-shell-navbar-transform"]=a,o[i]["--app-shell-navbar-transform-rtl"]=p,o[i]["--app-shell-navbar-offset"]="0px !important"}if((u=e==null?void 0:e.collapsed)!=null&&u.mobile){const i=be(e.breakpoint,l)-.1;t[i]=t[i]||{},t[i]["--app-shell-navbar-width"]="100%",t[i]["--app-shell-navbar-offset"]="0px",t[i]["--app-shell-navbar-transform"]=a,t[i]["--app-shell-navbar-transform-rtl"]=p}}function X(s){return Number(s)===0?"0px":Ee(s)}function yt({padding:s,baseStyles:o,minMediaStyles:t}){D(s)&&(o["--app-shell-padding"]=X(F(s))),L(s)&&(s.base&&(o["--app-shell-padding"]=X(s.base)),C(s).forEach(e=>{e!=="base"&&(t[e]=t[e]||{},t[e]["--app-shell-padding"]=X(s[e]))}))}function jt({navbar:s,header:o,footer:t,aside:e,padding:l,theme:n}){const a={},p={},d={};wt({baseStyles:d,minMediaStyles:a,maxMediaStyles:p,navbar:s,theme:n}),bt({baseStyles:d,minMediaStyles:a,maxMediaStyles:p,aside:e,theme:n}),kt({baseStyles:d,minMediaStyles:a,header:o}),xt({baseStyles:d,minMediaStyles:a,footer:t}),yt({baseStyles:d,minMediaStyles:a,padding:l});const f=de(C(a),n).map(v=>({query:`(min-width: ${ce(v.px)})`,styles:a[v.value]})),u=de(C(p),n).map(v=>({query:`(max-width: ${ce(v.px)})`,styles:p[v.value]})),i=[...f,...u];return{baseStyles:d,media:i}}function Nt({navbar:s,header:o,aside:t,footer:e,padding:l}){const n=J(),a=Re(),{media:p,baseStyles:d}=jt({navbar:s,header:o,footer:e,aside:t,padding:l,theme:n});return g.createElement($e,{media:p,styles:d,selector:a.cssVariablesSelector})}const At={},ae=A((s,o)=>{const t=j("AppShellNavbar",At,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,withBorder:f,zIndex:u,mod:i,...v}=t,h=R();return h.disabled?null:g.createElement(x,{component:"nav",ref:o,mod:[{"with-border":f??h.withBorder},i],...h.getStyles("navbar",{className:l,classNames:e,styles:a,style:n}),...v,__vars:{"--app-shell-navbar-z-index":`calc(${u??h.zIndex} + 1)`}})});ae.classes=_;ae.displayName="@mantine/core/AppShellNavbar";const _t={},ne=Te((s,o)=>{const t=j("AppShellSection",_t,s),{classNames:e,className:l,style:n,styles:a,vars:p,grow:d,mod:f,...u}=t,i=R();return g.createElement(x,{ref:o,mod:[{grow:d},f],...i.getStyles("section",{className:l,style:n,classNames:e,styles:a}),...u})});ne.classes=_;ne.displayName="@mantine/core/AppShellSection";function It({transitionDuration:s,disabled:o}){const[t,e]=N.useState(!1),l=N.useRef(),n=N.useRef();return Me("resize",()=>{e(!0),clearTimeout(l.current),l.current=window.setTimeout(()=>e(!1),200)}),Pe(()=>{e(!0),clearTimeout(n.current),n.current=window.setTimeout(()=>e(!1),s||0)},[o,s]),t}const Ct={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:he("app")},St=Z((s,{transitionDuration:o,transitionTimingFunction:t})=>({root:{"--app-shell-transition-duration":`${o}ms`,"--app-shell-transition-timing-function":t}})),y=A((s,o)=>{const t=j("AppShell",Ct,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,navbar:f,withBorder:u,padding:i,transitionDuration:v,transitionTimingFunction:h,header:m,zIndex:k,layout:S,disabled:I,aside:W,footer:ie,offsetScrollbars:le,mod:O,...G}=t,$=Q({name:"AppShell",classes:_,props:t,className:l,style:n,classNames:e,styles:a,unstyled:p,vars:d,varsResolver:St}),Ne=It({disabled:I,transitionDuration:v});return g.createElement(ft,{value:{getStyles:$,withBorder:u,zIndex:k,disabled:I,offsetScrollbars:le}},g.createElement(Nt,{navbar:f,header:m,aside:W,footer:ie,padding:i}),g.createElement(x,{ref:o,...$("root"),mod:[{resizing:Ne,layout:S,disabled:I},O],...G}))});y.classes=_;y.displayName="@mantine/core/AppShell";y.Navbar=ae;y.Header=se;y.Main=oe;y.Aside=ee;y.Footer=te;y.Section=ne;function zt(s="top-end",o=0){const t={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},e=c(o),[l,n]=s.split("-");return l==="top"&&(t["--indicator-top"]=e,t["--indicator-translate-y"]="-50%"),l==="middle"&&(t["--indicator-top"]="50%",t["--indicator-translate-y"]="-50%"),l==="bottom"&&(t["--indicator-bottom"]=e,t["--indicator-translate-y"]="50%"),n==="start"&&(t["--indicator-left"]=e,t["--indicator-translate-x"]="-50%"),n==="center"&&(t["--indicator-left"]="50%",t["--indicator-translate-x"]="-50%"),n==="end"&&(t["--indicator-right"]=e,t["--indicator-translate-x"]="50%"),t}var we={root:"m-e5262200",indicator:"m-760d1fb1",processing:"m-885901b1"};const Et={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},Rt=Z((s,{color:o,position:t,offset:e,size:l,radius:n,zIndex:a,autoContrast:p})=>({root:{"--indicator-color":o?Be(o,s):void 0,"--indicator-text-color":at(p,s)?Fe({color:o,theme:s}):void 0,"--indicator-size":c(l),"--indicator-radius":n===void 0?void 0:De(n),"--indicator-z-index":a==null?void 0:a.toString(),...zt(t,e)}})),re=A((s,o)=>{const t=j("Indicator",Et,s),{classNames:e,className:l,style:n,styles:a,unstyled:p,vars:d,children:f,position:u,offset:i,inline:v,label:h,radius:m,color:k,withBorder:S,disabled:I,processing:W,zIndex:ie,autoContrast:le,mod:O,...G}=t,$=Q({name:"Indicator",classes:we,props:t,className:l,style:n,classNames:e,styles:a,unstyled:p,vars:d,varsResolver:Rt});return g.createElement(x,{ref:o,...$("root"),mod:[{inline:v},O],...G},!I&&g.createElement(g.Fragment,null,g.createElement(x,{mod:{"with-label":!!h,"with-border":S,processing:W},...$("indicator")},h)),f)});re.classes=we;re.displayName="@mantine/core/Indicator";var $t=w("bell-filled","IconBellFilled",[["path",{d:"M14.235 19c.865 0 1.322 1.024 .745 1.668a3.992 3.992 0 0 1 -2.98 1.332a3.992 3.992 0 0 1 -2.98 -1.332c-.552 -.616 -.158 -1.579 .634 -1.661l.11 -.006h4.471z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M12 2c1.358 0 2.506 .903 2.875 2.141l.046 .171l.008 .043a8.013 8.013 0 0 1 4.024 6.069l.028 .287l.019 .289v2.931l.021 .136a3 3 0 0 0 1.143 1.847l.167 .117l.162 .099c.86 .487 .56 1.766 -.377 1.864l-.116 .006h-16c-1.028 0 -1.387 -1.364 -.493 -1.87a3 3 0 0 0 1.472 -2.063l.021 -.143l.001 -2.97a8 8 0 0 1 3.821 -6.454l.248 -.146l.01 -.043a3.003 3.003 0 0 1 2.562 -2.29l.182 -.017l.176 -.004z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),Tt=w("bell","IconBell",[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]]),Mt=w("building-skyscraper","IconBuildingSkyscraper",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M5 21v-14l8 -4v18",key:"svg-1"}],["path",{d:"M19 21v-10l-6 -4",key:"svg-2"}],["path",{d:"M9 9l0 .01",key:"svg-3"}],["path",{d:"M9 12l0 .01",key:"svg-4"}],["path",{d:"M9 15l0 .01",key:"svg-5"}],["path",{d:"M9 18l0 .01",key:"svg-6"}]]),ye=w("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),Pt=w("file-dollar","IconFileDollar",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M14 11h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M12 17v1m0 -8v1",key:"svg-3"}]]),Bt=w("gauge","IconGauge",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M13.41 10.59l2.59 -2.59",key:"svg-2"}],["path",{d:"M7 12a5 5 0 0 1 5 -5",key:"svg-3"}]]),Ft=w("list-details","IconListDetails",[["path",{d:"M13 5h8",key:"svg-0"}],["path",{d:"M13 9h5",key:"svg-1"}],["path",{d:"M13 15h8",key:"svg-2"}],["path",{d:"M13 19h5",key:"svg-3"}],["path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-5"}]]),Dt=w("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),Lt=w("moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]),Vt=w("report-analytics","IconReportAnalytics",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 17v-5",key:"svg-2"}],["path",{d:"M12 17v-1",key:"svg-3"}],["path",{d:"M15 17v-3",key:"svg-4"}]]),Ht=w("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),Ut=w("sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]),Wt=w("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);const Ot="_icon_lc4wu_1",Gt={icon:Ot};function qt({title:s,subtitle:o,datetime:t,read:e}){return r.jsxs(B,{wrap:"nowrap",children:[r.jsx(ge,{style:{width:c(30),height:c(30),flexShrink:0},className:e?null:Gt.icon}),r.jsxs("div",{children:[r.jsx(P,{fz:13,lh:c(16),children:s}),r.jsx(P,{fz:11,c:"dimmed",children:`${o}, ${ot(t)}`})]})]})}function Xt(){const{auth:s}=U().props;return{can:t=>s.user.permissions.includes(t)}}function Yt(s){const t=ve()==="dark"?"assets/redbean-wordmark/rb-wm-svg-red.svg":"assets/redbean-wordmark/rb-wm-svg-navy.svg";return r.jsx(Ge,{p:16,children:r.jsx(qe,{h:32,src:t})})}const je=Xe(s=>({items:[],setItems:o=>s(()=>({items:[...o]})),toggle:o=>s(pe(t=>{t.items.forEach(e=>{if(e.opened!==void 0)if(e.label===o){const l=t.items.findIndex(n=>n.label===o);t.items[l].opened=!t.items[l].opened}else e.opened=!1})})),active:(o,t)=>s(pe(e=>{e.items.forEach(l=>{if(Array.isArray(l.links)){let a=!1;l.links.forEach(p=>{p.label===o&&t?(p.active=!0,a=!0):p.active=!1}),l.active=a,l.opened=a}else l.label===o&&!t?l.active=!0:l.active=!1})}))})),Jt="_control_k42x2_1",Qt="_linkIcon_k42x2_14",Zt="_active_k42x2_19",Kt="_link_k42x2_14",es="_chevron_k42x2_69",z={control:Jt,linkIcon:Qt,active:Zt,link:Kt,chevron:es};function ts({item:s}){const{toggle:o,active:t}=je(),e=Array.isArray(s.links),l=()=>{e?o(s.label):(t(s.label,!1),Y(s.link))},n=a=>{t(a.label,!0),Y(a.link)};return r.jsxs(r.Fragment,{children:[r.jsx(M,{onClick:l,className:`${z.control} ${s.active?z.active:""}`,children:r.jsxs(B,{justify:"space-between",gap:0,children:[r.jsxs(x,{style:{display:"flex",alignItems:"center"},children:[r.jsx(s.icon,{className:z.linkIcon,stroke:1.5}),r.jsx(x,{ml:"md",children:s.label})]}),e&&r.jsx(ye,{className:z.chevron,stroke:1.5,style:{width:c(16),height:c(16),transform:s.opened?"rotate(-90deg)":"none"}})]})}),e?r.jsx(xe,{in:s.opened,children:(e?s.links.filter(a=>a.visible):[]).map(a=>r.jsx(M,{className:`${z.link} ${a.active?z.active:""}`,onClick:()=>n(a),children:a.label},a.label))}):null]})}const ss="_user_1agyt_1",os={user:ss};function as(){const{user:s}=U().props.auth,{setColorScheme:o}=Oe({keepTransition:!0}),t=ve(),{colors:e}=J(),l=()=>{Ve.delete(route("logout"),{onSuccess:H("auth.login.form")})};return r.jsxs(b,{position:"right",offset:10,withArrow:!0,width:200,shadow:"md",styles:{dropdown:{translate:"0 -12px"}},children:[r.jsx(b.Target,{children:r.jsx(M,{className:os.user,bg:t==="light"?Le(e.blue[8],.15):"var(--mantine-color-dark-7)",children:r.jsxs(B,{children:[r.jsx(Qe,{src:s.avatar,radius:"xl",color:t==="light"?"white":"blue",alt:s.name,children:Je(s.name)}),r.jsxs("div",{style:{flex:1},children:[r.jsx(P,{size:"sm",fw:500,children:s.name}),r.jsx(P,{c:t==="light"?"blue.4":"dimmed",size:"xs",children:s.job_title})]}),r.jsx(ye,{style:{width:c(14),height:c(14)},stroke:1.5})]})})}),r.jsxs(b.Dropdown,{children:[r.jsx(b.Label,{children:"Account"}),r.jsx(b.Item,{leftSection:r.jsx(Wt,{style:{width:c(14),height:c(14)}}),onClick:()=>H("account.profile.edit"),children:"My Profile"}),r.jsx(b.Item,{leftSection:r.jsx(Tt,{style:{width:c(14),height:c(14)}}),onClick:()=>H("notifications"),children:"Notifications"}),r.jsx(b.Divider,{}),r.jsxs(b.Item,{leftSection:t==="light"?r.jsx(Ut,{style:{width:c(14),height:c(14)}}):r.jsx(Lt,{style:{width:c(14),height:c(14)}}),onClick:()=>o(t==="light"?"dark":"light"),children:[Ze(t)," mode"]}),r.jsx(b.Divider,{}),r.jsx(b.Item,{color:"red",leftSection:r.jsx(Dt,{style:{width:c(14),height:c(14)}}),onClick:l,children:"Logout"})]})]})}const ns="_navbar_43mjy_1",rs="_header_43mjy_13",is="_links_43mjy_22",ls="_footer_43mjy_27",cs="_version_43mjy_33",E={navbar:ns,header:rs,links:is,footer:ls,version:cs};function ps(){const{version:s}=U().props,{items:o,setItems:t}=je();return N.useEffect(()=>{t([{label:"Dashboard",icon:Bt,link:route("dashboard"),active:route().current("dashboard"),visible:!0},{label:"Projects",icon:Ft,link:route("projects.index"),active:route().current("projects.*"),visible:can("view projects")},{label:"My Work",icon:Ke,active:route().current("my-work.*"),opened:route().current("my-work.*"),visible:can("view tasks")||can("view activities"),links:[{label:"Tasks",link:route("my-work.tasks.index"),active:route().current("my-work.tasks.*"),visible:can("view tasks")},{label:"Activity",link:route("my-work.activity.index"),active:route().current("my-work.activity.*"),visible:can("view activities")},{label:"Calendar",link:route("my-work.calendar.index"),active:route().current("my-work.calendar.*"),visible:can("view activities")}]},{label:"Clients",icon:Mt,active:route().current("clients.*"),opened:route().current("clients.*"),visible:can("view client users")||can("view client companies"),links:[{label:"Users",link:route("clients.users.index"),active:route().current("clients.users.*"),visible:can("view client users")},{label:"Companies",link:route("clients.companies.index"),active:route().current("clients.companies.*"),visible:can("view client companies")}]},{label:"Users",icon:et,link:route("users.index"),active:route().current("users.*"),visible:can("view users")},{label:"Invoices",icon:Pt,link:route("invoices.index"),active:route().current("invoices.*"),visible:can("view invoices")},{label:"Reports",icon:Vt,active:route().current("reports.*"),opened:route().current("reports.*"),visible:can("view logged time sum report")||can("view daily logged time report"),links:[{label:"Logged time sum",link:route("reports.logged-time.sum"),active:route().current("reports.logged-time.sum"),visible:can("view logged time sum report")},{label:"Daily logged time",link:route("reports.logged-time.daily"),active:route().current("reports.logged-time.daily"),visible:can("view daily logged time report")}]},{label:"Settings",icon:Ht,active:route().current("settings.*"),opened:route().current("settings.*"),visible:can("view owner company")||can("view roles")||can("view labels"),links:[{label:"Company",link:route("settings.company.edit"),active:route().current("settings.company.*"),visible:can("view owner company")},{label:"Roles",link:route("settings.roles.index"),active:route().current("settings.roles.*"),visible:can("view roles")},{label:"Labels",link:route("settings.labels.index"),active:route().current("settings.labels.*"),visible:can("view labels")}]}])},[]),r.jsxs("nav",{className:E.navbar,children:[r.jsx("div",{className:E.header,children:r.jsxs(B,{justify:"space-between",children:[r.jsx(Yt,{style:{width:c(120)}}),r.jsxs(P,{size:"xs",className:E.version,children:["v",s]})]})}),r.jsx(tt,{className:E.links,children:r.jsx("div",{className:E.linksInner,children:o.filter(e=>e.visible).map(e=>r.jsx(ts,{item:e},e.label))})}),r.jsx("div",{className:E.footer,children:r.jsx(as,{})})]})}const ds="_indicator_177ot_1",hs="_notification_177ot_7",fs="_link_177ot_16",V={indicator:ds,notification:hs,link:fs};function us(){const{notifications:s,markAsRead:o,markAllAsRead:t}=me(),[e,l]=N.useState(0),n=a=>{a.read_at===null&&o(a),Y(a.link)};return N.useEffect(()=>{l(s.filter(a=>a.read_at===null).length)},[s]),r.jsx(K,{position:{top:20,right:20},children:r.jsx(b,{withArrow:!0,position:"bottom-end",withinPortal:!0,shadow:"md",transitionProps:{duration:100,transition:"pop-top-right"},offset:{mainAxis:10,alignmentAxis:8},children:r.jsxs(re,{color:"red",disabled:e===0,label:e,offset:3,size:16,className:V.indicator,children:[r.jsx(b.Target,{children:r.jsx(nt,{radius:"xl",size:"lg",variant:"filled",children:r.jsx($t,{style:{width:"55%",height:"55%"}})})}),r.jsxs(b.Dropdown,{miw:340,maw:400,p:12,children:[r.jsxs(B,{justify:"space-between",m:10,ml:15,children:[r.jsx(rt,{order:4,children:"Notifications"}),e>0&&r.jsx(M,{fz:11,onClick:t,className:V.link,children:"Mark all as read"})]}),r.jsx(b.Divider,{}),s.length?s.map(a=>r.jsx(b.Item,{onClick:()=>n(a),opacity:a.read_at?.6:1,className:V.notification,children:r.jsx(qt,{title:a.title,subtitle:a.subtitle,datetime:a.created_at,read:a.read_at!==null})},a.id)):r.jsx(it,{mih:100,children:r.jsx(st,{title:"Recent notifications",subtitle:"Will be shown here",icon:ge,titleFontSize:17,subtitleFontSize:13,iconSize:38})}),r.jsx(b.Divider,{}),r.jsx(M,{fz:13,fw:500,onClick:()=>H("notifications"),mx:13,my:6,className:V.link,children:"View all my notifications"})]})]})})})}function Vs({children:s,title:o}){window.can=Xt().can;const{initUserWebSocket:t}=We(),{notifications:e}=U().props.auth,{setNotifications:l}=me();return N.useEffect(()=>{t(),l(e)},[]),r.jsxs(y,{navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!1}},padding:"4rem",children:[r.jsx(He,{title:o}),r.jsx(Ue,{}),r.jsx(us,{}),r.jsx(y.Navbar,{children:r.jsx(ps,{})}),r.jsx(y.Main,{children:s})]})}export{K as A,xe as C,Vs as M,qt as N};
