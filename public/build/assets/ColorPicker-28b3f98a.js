import{b as f,R as i,B as U,f as he,e as q,h as fe,u as ke,k as te,a2 as Pe,r as E,i as Me,o as B,J as Ne}from"./app-da3294e8.js";import{C as be}from"./ColorSwatch-f02f97e4.js";import{c as Te}from"./create-optional-context-ef0dc93a.js";import{c as Y}from"./clamp-73f6bef2.js";import{u as Ae}from"./use-uncontrolled-d465780e.js";function pe(t){return{x:Y(t.x,0,1),y:Y(t.y,0,1)}}function ve(t,e,r="ltr"){const s=f.useRef(null),a=f.useRef(!1),o=f.useRef(!1),n=f.useRef(0),[b,g]=f.useState(!1);return f.useEffect(()=>{a.current=!0},[]),f.useEffect(()=>{var p,v;const c=({x:u,y:z})=>{cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(a.current&&s.current){s.current.style.userSelect="none";const k=s.current.getBoundingClientRect();if(k.width&&k.height){const _=Y((u-k.left)/k.width,0,1);t({x:r==="ltr"?_:1-_,y:Y((z-k.top)/k.height,0,1)})}}})},l=()=>{document.addEventListener("mousemove",x),document.addEventListener("mouseup",m),document.addEventListener("touchmove",M),document.addEventListener("touchend",m)},h=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",m)},d=()=>{!o.current&&a.current&&(o.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),g(!0),l())},m=()=>{o.current&&a.current&&(o.current=!1,g(!1),h(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},P=u=>{d(),u.preventDefault(),x(u)},x=u=>c({x:u.clientX,y:u.clientY}),R=u=>{u.cancelable&&u.preventDefault(),d(),M(u)},M=u=>{u.cancelable&&u.preventDefault(),c({x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY})};return(p=s.current)==null||p.addEventListener("mousedown",P),(v=s.current)==null||v.addEventListener("touchstart",R,{passive:!1}),()=>{s.current&&(s.current.removeEventListener("mousedown",P),s.current.removeEventListener("touchstart",R))}},[r,t]),{ref:s,active:b}}const[_e,ae]=Te(null),ne=f.forwardRef(({position:t,...e},r)=>i.createElement(U,{ref:r,__vars:{"--thumb-y-offset":`${t.y*100}%`,"--thumb-x-offset":`${t.x*100}%`},...e}));ne.displayName="@mantine/core/ColorPickerThumb";var oe={wrapper:"m-fee9c77",preview:"m-9dddfbac",body:"m-bffecc3e",sliders:"m-3283bb96",thumb:"m-40d572ba",swatch:"m-d8ee6fd8",swatches:"m-5711e686",saturation:"m-202a296e",saturationOverlay:"m-11b3db02",slider:"m-d856d47d",sliderOverlay:"m-8f327113"};const Ce={},ce=he((t,e)=>{var H;const r=q("ColorSlider",Ce,t),{classNames:s,className:a,style:o,styles:n,unstyled:b,vars:g,onChange:c,onChangeEnd:l,maxValue:h,round:d,size:m="md",focusable:P=!0,value:x,overlays:R,thumbColor:M="transparent",onScrubStart:p,onScrubEnd:v,__staticSelector:u="ColorPicker",...z}=r,k=fe({name:u,classes:oe,props:r,className:a,style:o,classNames:s,styles:n,unstyled:b}),V=((H=ae())==null?void 0:H.getStyles)||k,J=ke(),[N,C]=f.useState({y:0,x:x/h}),T=f.useRef(N),L=y=>d?Math.round(y*h):y*h,{ref:F}=ve(({x:y,y:w})=>{T.current={x:y,y:w},c==null||c(L(y))},{onScrubEnd:()=>{const{x:y}=T.current;l==null||l(L(y)),v==null||v()},onScrubStart:p});te(()=>{C({y:0,x:x/h})},[x]);const I=(y,w)=>{y.preventDefault();const O=pe(w);c==null||c(L(O.x)),l==null||l(L(O.x))},X=y=>{switch(y.key){case"ArrowRight":{I(y,{x:N.x+.05,y:N.y});break}case"ArrowLeft":{I(y,{x:N.x-.05,y:N.y});break}}},G=R.map((y,w)=>i.createElement("div",{...V("sliderOverlay"),style:y,key:w}));return i.createElement(U,{...z,ref:Pe(F,e),...V("slider"),role:"slider","aria-valuenow":x,"aria-valuemax":h,"aria-valuemin":0,tabIndex:P?0:-1,onKeyDown:X,"data-focus-ring":J.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${m})`}},G,i.createElement(ne,{position:N,...V("thumb",{style:{top:E(1),background:M}})}))});ce.displayName="@mantine/core/ColorSlider";function $(t,e=0,r=10**e){return Math.round(r*t)/r}function Le({h:t,s:e,l:r,a:s}){const a=e*((r<50?r:100-r)/100);return{h:t,s:a>0?2*a/(r+a)*100:0,v:r+a,a:s}}const Ie={grad:360/400,turn:360,rad:360/(Math.PI*2)};function He(t,e="deg"){return Number(t)*(Ie[e]||1)}const Oe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function ie(t){const e=Oe.exec(t);return e?Le({h:He(e[1],e[2]),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}}function re({r:t,g:e,b:r,a:s}){const a=Math.max(t,e,r),o=a-Math.min(t,e,r),n=o?a===t?(e-r)/o:a===e?2+(r-t)/o:4+(t-e)/o:0;return{h:$(60*(n<0?n+6:n),3),s:$(a?o/a*100:0,3),v:$(a/255*100,3),a:s}}function se(t){const e=t[0]==="#"?t.slice(1):t;return e.length===3?re({r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}):re({r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:1})}function De(t){const e=t[0]==="#"?t.slice(1):t,r=n=>$(parseInt(n,16)/255,3);if(e.length===4){const n=e.slice(0,3),b=r(e[3]+e[3]);return{...se(n),a:b}}const s=e.slice(0,6),a=r(e.slice(6,8));return{...se(s),a}}const ze=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function le(t){const e=ze.exec(t);return e?re({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}}const ge={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},Ve={hex:se,hexa:De,rgb:le,rgba:le,hsl:ie,hsla:ie};function Fe(t){for(const[,e]of Object.entries(ge))if(e.test(t))return!0;return!1}function K(t){if(typeof t!="string")return{h:0,s:0,v:0,a:1};if(t==="transparent")return{h:0,s:0,v:0,a:0};const e=t.trim();for(const[r,s]of Object.entries(ge))if(s.test(e))return Ve[r](e);return{h:0,s:0,v:0,a:1}}const Ge={},ye=f.forwardRef((t,e)=>{const{value:r,onChange:s,onChangeEnd:a,color:o,...n}=q("AlphaSlider",Ge,t);return i.createElement(ce,{...n,ref:e,value:r,onChange:b=>s==null?void 0:s($(b,2)),onChangeEnd:b=>a==null?void 0:a($(b,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${E(8)} ${E(8)}`,backgroundPosition:`0 0, 0 ${E(4)}, ${E(4)} ${E(-4)}, ${E(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${E(1)} inset, rgb(0, 0, 0, .15) 0 0 ${E(4)} inset`}]})});ye.displayName="@mantine/core/AlphaSlider";function xe({h:t,s:e,v:r,a:s}){const a=t/360*6,o=e/100,n=r/100,b=Math.floor(a),g=n*(1-o),c=n*(1-(a-b)*o),l=n*(1-(1-a+b)*o),h=b%6;return{r:$([n,c,g,g,l,n][h]*255),g:$([l,n,n,c,g,g][h]*255),b:$([g,g,l,n,n,c][h]*255),a:$(s,2)}}function de(t,e){const{r,g:s,b:a,a:o}=xe(t);return e?`rgba(${r}, ${s}, ${a}, ${$(o,2)})`:`rgb(${r}, ${s}, ${a})`}function me({h:t,s:e,v:r,a:s},a){const o=(200-e)*r/100,n={h:Math.round(t),s:Math.round(o>0&&o<200?e*r/100/(o<=100?o:200-o)*100:0),l:Math.round(o/2)};return a?`hsla(${n.h}, ${n.s}%, ${n.l}%, ${$(s,2)})`:`hsl(${n.h}, ${n.s}%, ${n.l}%)`}function j(t){const e=t.toString(16);return e.length<2?`0${e}`:e}function we(t){const{r:e,g:r,b:s}=xe(t);return`#${j(e)}${j(r)}${j(s)}`}function Ue(t){const e=Math.round(t.a*255);return`${we(t)}${j(e)}`}const ee={hex:we,hexa:t=>Ue(t),rgb:t=>de(t,!1),rgba:t=>de(t,!0),hsl:t=>me(t,!1),hsla:t=>me(t,!0)};function A(t,e){return e?t in ee?ee[t](e):ee.hex(e):"#000000"}const Se=f.forwardRef((t,e)=>{const{value:r,onChange:s,onChangeEnd:a,color:o,...n}=q("HueSlider",{},t);return i.createElement(ce,{...n,ref:e,value:r,onChange:s,onChangeEnd:a,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${E(1)} inset, rgb(0, 0, 0, .15) 0 0 ${E(4)} inset`}]})});Se.displayName="@mantine/core/HueSlider";function $e({className:t,onChange:e,onChangeEnd:r,value:s,saturationLabel:a,focusable:o=!0,size:n,color:b,onScrubStart:g,onScrubEnd:c,...l}){const{getStyles:h}=ae(),[d,m]=f.useState({x:s.s/100,y:1-s.v/100}),P=f.useRef(d),{ref:x}=ve(({x:p,y:v})=>{P.current={x:p,y:v},e({s:Math.round(p*100),v:Math.round((1-v)*100)})},{onScrubEnd:()=>{const{x:p,y:v}=P.current;r({s:Math.round(p*100),v:Math.round((1-v)*100)}),c==null||c()},onScrubStart:g});f.useEffect(()=>{m({x:s.s/100,y:1-s.v/100})},[s.s,s.v]);const R=(p,v)=>{p.preventDefault();const u=pe(v);e({s:Math.round(u.x*100),v:Math.round((1-u.y)*100)}),r({s:Math.round(u.x*100),v:Math.round((1-u.y)*100)})},M=p=>{switch(p.key){case"ArrowUp":{R(p,{y:d.y-.05,x:d.x});break}case"ArrowDown":{R(p,{y:d.y+.05,x:d.x});break}case"ArrowRight":{R(p,{x:d.x+.05,y:d.y});break}case"ArrowLeft":{R(p,{x:d.x-.05,y:d.y});break}}};return i.createElement(U,{...h("saturation"),ref:x,...l,role:"slider","aria-label":a,"aria-valuenow":d.x,"aria-valuetext":A("rgba",s),tabIndex:o?0:-1,onKeyDown:M},i.createElement("div",{...h("saturationOverlay",{style:{backgroundColor:`hsl(${s.h}, 100%, 50%)`}})}),i.createElement("div",{...h("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),i.createElement("div",{...h("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),i.createElement(ne,{position:d,...h("thumb",{style:{backgroundColor:b}})}))}$e.displayName="@mantine/core/Saturation";const Re=f.forwardRef(({className:t,datatype:e,setValue:r,onChangeEnd:s,size:a,focusable:o,data:n,swatchesPerRow:b,...g},c)=>{const l=ae(),h=n.map((d,m)=>i.createElement(be,{...l.getStyles("swatch"),unstyled:l.unstyled,component:"button",type:"button",color:d,key:m,radius:"sm",onClick:()=>{r(d),s==null||s(d)},"aria-label":d,tabIndex:o?0:-1,"data-swatch":!0}));return i.createElement(U,{...l.getStyles("swatches"),ref:c,...g},h)});Re.displayName="@mantine/core/Swatches";const Xe={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},Be=Me((t,{size:e,swatchesPerRow:r})=>({wrapper:{"--cp-preview-size":B(e,"cp-preview-size"),"--cp-width":B(e,"cp-width"),"--cp-body-spacing":Ne(e),"--cp-swatch-size":`${100/r}%`,"--cp-thumb-size":B(e,"cp-thumb-size"),"--cp-saturation-height":B(e,"cp-saturation-height")}})),Ee=he((t,e)=>{const r=q("ColorPicker",Xe,t),{classNames:s,className:a,style:o,styles:n,unstyled:b,vars:g,format:c,value:l,defaultValue:h,onChange:d,onChangeEnd:m,withPicker:P,size:x,saturationLabel:R,hueLabel:M,alphaLabel:p,focusable:v,swatches:u,swatchesPerRow:z,fullWidth:k,onColorSwatchClick:_,__staticSelector:V,mod:J,...N}=r,C=fe({name:V,props:r,classes:oe,className:a,style:o,classNames:s,styles:n,unstyled:b,rootSelector:"wrapper",vars:g,varsResolver:Be}),T=f.useRef(c),L=f.useRef(),F=f.useRef(-1),I=f.useRef(!1),X=c==="hexa"||c==="rgba"||c==="hsla",[G,H,y]=Ae({value:l,defaultValue:h,finalValue:"#FFFFFF",onChange:d}),[w,O]=f.useState(K(G)),W=()=>{window.clearTimeout(F.current),I.current=!0},Q=()=>{window.clearTimeout(F.current),F.current=window.setTimeout(()=>{I.current=!1},200)},Z=S=>{O(D=>{const ue={...D,...S};return L.current=A(T.current,ue),ue}),H(L.current)};return te(()=>{Fe(l)&&!I.current&&O(K(l))},[l]),te(()=>{T.current=c,H(A(c,w))},[c]),i.createElement(_e,{value:{getStyles:C,unstyled:b}},i.createElement(U,{ref:e,...C("wrapper"),size:x,mod:[{"full-width":k},J],...N},P&&i.createElement(i.Fragment,null,i.createElement($e,{value:w,onChange:Z,onChangeEnd:({s:S,v:D})=>m==null?void 0:m(A(T.current,{...w,s:S,v:D})),color:G,size:x,focusable:v,saturationLabel:R,onScrubStart:W,onScrubEnd:Q}),i.createElement("div",{...C("body")},i.createElement("div",{...C("sliders")},i.createElement(Se,{value:w.h,onChange:S=>Z({h:S}),onChangeEnd:S=>m==null?void 0:m(A(T.current,{...w,h:S})),size:x,focusable:v,"aria-label":M,onScrubStart:W,onScrubEnd:Q}),X&&i.createElement(ye,{value:w.a,onChange:S=>Z({a:S}),onChangeEnd:S=>{m==null||m(A(T.current,{...w,a:S}))},size:x,color:A("hex",w),focusable:v,"aria-label":p,onScrubStart:W,onScrubEnd:Q})),X&&i.createElement(be,{color:G,radius:"sm",size:"var(--cp-preview-size)",...C("preview")}))),Array.isArray(u)&&i.createElement(Re,{data:u,swatchesPerRow:z,focusable:v,setValue:H,onChangeEnd:S=>{const D=A(c,K(S));_==null||_(D),m==null||m(D),y||O(K(S))}})))});Ee.classes=oe;Ee.displayName="@mantine/core/ColorPicker";export{Ee as C,A as c,Fe as i,K as p};
