import{x as E,f,e as y,R as u,B as C,h as L,i as T,o as B,s as G,u as D,g as I,t as O,j as e,d as V,G as A}from"./app-da3294e8.js";import{g as F}from"./user-6639b4f0.js";import M from"./FavoriteToggle-6f5523dc.js";import q from"./ProjectCardActions-857632ac.js";import{C as H}from"./Card-eec6a1df.js";import{T as h}from"./Text-c3ad06ed.js";import{u as J}from"./use-resolved-styles-api-e7a781e3.js";import{g as K}from"./get-auto-contrast-value-58024fc4.js";import{T as k}from"./Tooltip-96ba30b2.js";import{A as N}from"./Avatar-e00ef5da.js";import"./index-97bdf101.js";import"./IconStarFilled-62960b94.js";import"./createReactComponent-75a3f308.js";import"./IconStar-1afb56e8.js";import"./ConfirmModal-080ad1ce.js";import"./useForm-96d098c8.js";import"./UserAccessModal-6c760cd5.js";import"./MultiSelect-25f683b0.js";import"./OptionsDropdown-e1566342.js";import"./CheckIcon-7ca0222f.js";import"./ScrollArea-59f26836.js";import"./DirectionProvider-012afc33.js";import"./Combobox-2687b8af.js";import"./Popover-133eaeea.js";import"./use-floating-auto-update-9478cce0.js";import"./use-uncontrolled-d465780e.js";import"./Input-31469c8b.js";import"./create-optional-context-ef0dc93a.js";import"./InputBase-8270724a.js";import"./Pill-0cf67f81.js";import"./PillsInput-bc80b3f9.js";import"./Flex-84a3973b.js";import"./Menu-c66a745a.js";import"./ActionIcon-ab9527a1.js";import"./IconDots-c1e67a25.js";import"./IconUsers-6e313dc2.js";import"./IconPencil-4c3ac9f3.js";import"./IconArchive-afef4e89.js";import"./get-style-object-71cabcb5.js";const[Q,$]=E("Progress.Root component was not found in tree");var x={root:"m-db6d6462",section:"m-2242eb65","stripes-animation":"m-81a374bd",label:"m-91e40b74"};const U={},S=f((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:g,...n}=y("ProgressLabel",U,s),c=$();return u.createElement(C,{ref:o,...c.getStyles("label",{className:r,style:l,classNames:t,styles:a}),...n})});S.classes=x;S.displayName="@mantine/core/ProgressLabel";const W={},X=T((s,{size:o,radius:t,transitionDuration:r})=>({root:{"--progress-size":B(o,"progress-size"),"--progress-radius":t===void 0?void 0:G(t),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}})),j=f((s,o)=>{const t=y("ProgressRoot",W,s),{classNames:r,className:l,style:a,styles:g,unstyled:n,vars:c,autoContrast:m,transitionDuration:_,...p}=t,d=L({name:"Progress",classes:x,props:t,className:l,style:a,classNames:r,styles:g,unstyled:n,vars:c,varsResolver:X});return u.createElement(Q,{value:{getStyles:d,autoContrast:m}},u.createElement(C,{ref:o,...d("root"),...p}))});j.classes=x;j.displayName="@mantine/core/ProgressRoot";const Y={withAria:!0},P=f((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:g,value:n,withAria:c,color:m,striped:_,animated:p,mod:d,...b}=y("ProgressSection",Y,s),R=$(),w=D(),z=c?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":n,"aria-valuetext":`${n}%`}:{};return u.createElement(C,{ref:o,...R.getStyles("section",{className:r,classNames:t,styles:a,style:l}),...b,...z,mod:[{striped:_||p,animated:p},d],__vars:{"--progress-section-width":`${n}%`,"--progress-section-color":I(m,w),"--progress-label-color":K(R.autoContrast,w)?O({color:m,theme:w}):void 0}})});P.classes=x;P.displayName="@mantine/core/ProgressSection";const Z={},i=f((s,o)=>{const t=y("Progress",Z,s),{value:r,classNames:l,styles:a,vars:g,color:n,striped:c,animated:m,"aria-label":_,...p}=t,{resolvedClassNames:d,resolvedStyles:b}=J({classNames:l,styles:a,props:t});return u.createElement(j,{ref:o,classNames:d,styles:b,vars:g,...p},u.createElement(P,{value:r,color:n,striped:c,animated:m,"aria-label":_}))});i.classes=x;i.displayName="@mantine/core/Progress";i.Section=P;i.Root=j;i.Label=S;const ss=s=>{(s.target.dataset.ignoreLink||s.target.parentNode.dataset.ignoreLink)&&s.preventDefault()},es="_link_wt9y9_1",ts="_card_wt9y9_5",rs="_title_wt9y9_11",v={link:es,card:ts,title:rs};function Ms({item:s}){var r,l;const o=s.completed_tasks_count/s.all_tasks_count*100,t=s.overdue_tasks_count/s.all_tasks_count*100;return e.jsx(V,{href:route("projects.tasks",s.id),className:v.link,onClick:ss,children:e.jsxs(H,{withBorder:!0,padding:"xl",radius:"md",w:350,className:v.card,children:[e.jsxs(A,{justify:"space-between",children:[e.jsx(h,{fz:23,fw:700,className:v.title,children:s.name}),e.jsx(M,{item:s})]}),e.jsx(h,{fz:"sm",fw:500,children:(r=s.client_company)==null?void 0:r.name}),((l=s.description)==null?void 0:l.length)>0&&e.jsx(h,{fz:"sm",c:"dimmed",mt:"lg",children:s.description}),e.jsxs(h,{c:"dimmed",fz:"sm",mt:"md",children:["Completed tasks:"," ",e.jsxs(h,{span:!0,fw:500,c:"bright",children:[s.completed_tasks_count," / ",s.all_tasks_count]})]}),e.jsxs(i.Root,{value:s.all_tasks_count,mt:10,radius:"xl",children:[e.jsx(k,{label:`Completed: ${s.completed_tasks_count}`,withArrow:!0,children:e.jsx(i.Section,{value:o,color:"blue"})}),e.jsx(k,{label:`Overdue: ${s.overdue_tasks_count}`,withArrow:!0,children:e.jsx(i.Section,{value:t,color:"red"})}),e.jsx(i.Section,{value:100-(o+t),color:"gray"})]}),e.jsxs(A,{justify:"space-between",mt:"md",children:[e.jsxs(N.Group,{spacing:"sm",children:[s.users_with_access.slice(0,4).map(a=>e.jsx(k,{label:a.name,openDelay:300,withArrow:!0,children:e.jsx(N,{src:a.avatar,radius:"xl",style:{cursor:"default"},"data-ignore-link":!0,className:v.avatar,children:F(a.name)})},a.id)),s.users_with_access.length-4>0&&e.jsxs(N,{radius:"xl",children:["+",s.users_with_access.length-4]})]}),e.jsx(q,{item:s})]})]})})}export{Ms as default};
