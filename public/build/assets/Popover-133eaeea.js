import{b as f,x as Pe,f as K,e as R,aa as ve,a2 as L,R as w,O as ye,$ as xe,ab as Ee,B as Oe,r as Ce,z as De,F as Re,k as _,E as Te,h as be,m as Fe,i as Se,s as Ne,ac as Ie}from"./app-da3294e8.js";import{u as ke}from"./DirectionProvider-012afc33.js";import{F as ze,u as Ae,a as $e,o as _e,s as Me,l as Ke,f as Le,i as Ue,b as Ve,c as Xe,g as Ye}from"./use-floating-auto-update-9478cce0.js";import{u as je}from"./use-uncontrolled-d465780e.js";const Be=()=>{};function He(e,a={active:!0}){return typeof e!="function"||!a.active?a.onKeyDown||Be:t=>{var i;t.key==="Escape"&&(e(t),(i=a.onTrigger)==null||i.call(a))}}const M=["mousedown","touchstart"];function We(e,a,t){const i=f.useRef();return f.useEffect(()=>{const l=n=>{const{target:o}=n??{};if(Array.isArray(t)){const s=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";t.every(c=>!!c&&!n.composedPath().includes(c))&&!s&&e()}else i.current&&!i.current.contains(o)&&e()};return(a||M).forEach(n=>document.addEventListener(n,l)),()=>{(a||M).forEach(n=>document.removeEventListener(n,l))}},[i,e,t]),i}const[Ze,U]=Pe("Popover component was not found in the tree");var V={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const qe={},T=K((e,a)=>{var h,P,v,x;const t=R("PopoverDropdown",qe,e),{className:i,style:l,vars:n,children:o,onKeyDownCapture:s,variant:u,classNames:c,styles:m,...p}=t,r=U(),g=ve({opened:r.opened,shouldReturnFocus:r.returnFocus}),O=r.withRoles?{"aria-labelledby":r.getTargetId(),id:r.getDropdownId(),role:"dialog",tabIndex:-1}:{},C=L(a,r.floating);return r.disabled?null:w.createElement(ye,{...r.portalProps,withinPortal:r.withinPortal},w.createElement(xe,{mounted:r.opened,...r.transitionProps,transition:((h=r.transitionProps)==null?void 0:h.transition)||"fade",duration:((P=r.transitionProps)==null?void 0:P.duration)??150,keepMounted:r.keepMounted,exitDuration:typeof((v=r.transitionProps)==null?void 0:v.exitDuration)=="number"?r.transitionProps.exitDuration:(x=r.transitionProps)==null?void 0:x.duration},D=>w.createElement(Ee,{active:r.trapFocus},w.createElement(Oe,{...O,...p,variant:u,ref:C,onKeyDownCapture:He(r.onClose,{active:r.closeOnEscape,onTrigger:g,onKeyDown:s}),"data-position":r.placement,...r.getStyles("dropdown",{className:i,props:t,classNames:c,styles:m,style:[{...D,zIndex:r.zIndex,top:r.y??0,left:r.x??0,width:r.width==="target"?void 0:Ce(r.width)},l]})},o,w.createElement(ze,{ref:r.arrowRef,arrowX:r.arrowX,arrowY:r.arrowY,visible:r.withArrow,position:r.placement,arrowSize:r.arrowSize,arrowRadius:r.arrowRadius,arrowOffset:r.arrowOffset,arrowPosition:r.arrowPosition,...r.getStyles("arrow",{props:t,classNames:c,styles:m})})))))});T.classes=V;T.displayName="@mantine/core/PopoverDropdown";const Ge={refProp:"ref",popupType:"dialog"},X=K((e,a)=>{const{children:t,refProp:i,popupType:l,...n}=R("PopoverTarget",Ge,e);if(!De(t))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=n,s=U(),u=L(s.reference,t.ref,a),c=s.withRoles?{"aria-haspopup":l,"aria-expanded":s.opened,"aria-controls":s.getDropdownId(),id:s.getTargetId()}:{};return f.cloneElement(t,{...o,...c,...s.targetProps,className:Re(s.targetProps.className,o.className,t.props.className),[i]:u,...s.controlled?null:{onClick:s.onToggle}})});X.displayName="@mantine/core/PopoverTarget";function Je(e,a){var i,l,n,o;const t=[_e(e.offset)];return(i=e.middlewares)!=null&&i.shift&&t.push(Me({limiter:Ke()})),(l=e.middlewares)!=null&&l.flip&&t.push(Le()),(n=e.middlewares)!=null&&n.inline&&t.push(Ue()),t.push(Ve({element:e.arrowRef,padding:e.arrowOffset})),((o=e.middlewares)!=null&&o.size||e.width==="target")&&t.push(Xe({apply({rects:s,availableWidth:u,availableHeight:c}){var r,g;const p=((r=a().refs.floating.current)==null?void 0:r.style)??{};(g=e.middlewares)!=null&&g.size&&Object.assign(p,{maxWidth:`${u}px`,maxHeight:`${c}px`}),e.width==="target"&&Object.assign(p,{width:`${s.reference.width}px`})}})),t}function Qe(e){const[a,t]=je({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),i=()=>{var o;a&&((o=e.onClose)==null||o.call(e),t(!1))},l=()=>{var o,s;a?((o=e.onClose)==null||o.call(e),t(!1)):((s=e.onOpen)==null||s.call(e),t(!0))},n=Ae({strategy:e.strategy,placement:e.position,middleware:Je(e,()=>n)});return $e({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:n}),_(()=>{var o;(o=e.onPositionChange)==null||o.call(e,n.placement)},[n.placement]),_(()=>{var o,s;e.opened?(s=e.onOpen)==null||s.call(e):(o=e.onClose)==null||o.call(e)},[e.opened]),{floating:n,controlled:typeof e.opened=="boolean",opened:a,onClose:i,onToggle:l}}const er={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Te("popover"),__staticSelector:"Popover",width:"max-content"},rr=Se((e,{radius:a,shadow:t})=>({dropdown:{"--popover-radius":a===void 0?void 0:Ne(a),"--popover-shadow":Ie(t)}}));function E(e){var N,I,k,z,A,$;const a=R("Popover",er,e),{children:t,position:i,offset:l,onPositionChange:n,positionDependencies:o,opened:s,transitionProps:u,width:c,middlewares:m,withArrow:p,arrowSize:r,arrowOffset:g,arrowRadius:O,arrowPosition:C,unstyled:h,classNames:P,styles:v,closeOnClickOutside:x,withinPortal:D,portalProps:Y,closeOnEscape:j,clickOutsideEvents:B,trapFocus:H,onClose:W,onOpen:Z,onChange:q,zIndex:G,radius:J,shadow:Q,id:ee,defaultOpened:re,__staticSelector:b,withRoles:te,disabled:oe,returnFocus:ae,variant:se,keepMounted:ne,vars:ie,floatingStrategy:le,...de}=a,ce=be({name:b,props:a,classes:V,classNames:P,styles:v,unstyled:h,rootSelector:"dropdown",vars:ie,varsResolver:rr}),F=f.useRef(null),[ue,fe]=f.useState(null),[pe,ge]=f.useState(null),{dir:we}=ke(),S=Fe(ee),d=Qe({middlewares:m,width:c,position:Ye(we,i),offset:typeof l=="number"?l+(p?r/2:0):l,arrowRef:F,arrowOffset:g,onPositionChange:n,positionDependencies:o,opened:s,defaultOpened:re,onChange:q,onOpen:Z,onClose:W,strategy:le});We(()=>x&&d.onClose(),B,[ue,pe]);const me=f.useCallback(y=>{fe(y),d.floating.refs.setReference(y)},[d.floating.refs.setReference]),he=f.useCallback(y=>{ge(y),d.floating.refs.setFloating(y)},[d.floating.refs.setFloating]);return w.createElement(Ze,{value:{returnFocus:ae,disabled:oe,controlled:d.controlled,reference:me,floating:he,x:d.floating.x,y:d.floating.y,arrowX:(k=(I=(N=d.floating)==null?void 0:N.middlewareData)==null?void 0:I.arrow)==null?void 0:k.x,arrowY:($=(A=(z=d.floating)==null?void 0:z.middlewareData)==null?void 0:A.arrow)==null?void 0:$.y,opened:d.opened,arrowRef:F,transitionProps:u,width:c,withArrow:p,arrowSize:r,arrowOffset:g,arrowRadius:O,arrowPosition:C,placement:d.floating.placement,trapFocus:H,withinPortal:D,portalProps:Y,zIndex:G,radius:J,shadow:Q,closeOnEscape:j,onClose:d.onClose,onToggle:d.onToggle,getTargetId:()=>`${S}-target`,getDropdownId:()=>`${S}-dropdown`,withRoles:te,targetProps:de,__staticSelector:b,classNames:P,styles:v,unstyled:h,variant:se,keepMounted:ne,getStyles:ce}},t)}E.Target=X;E.Dropdown=T;E.displayName="@mantine/core/Popover";E.extend=e=>e;export{E as P};
