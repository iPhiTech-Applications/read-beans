import{f as fe,e as ge,b as f,m as be,R as a}from"./app-7bc20a4e.js";import{u as Se}from"./use-resolved-styles-api-22476df7.js";import{g as we,a as ye,O as ve}from"./OptionsDropdown-41d9cb8a.js";import{u as Ce,C as i}from"./Combobox-0c9e74c6.js";import{I as T}from"./InputBase-7a5da2ab.js";import{u as R}from"./use-uncontrolled-0eb68696.js";const Oe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},A=fe((z,H)=>{const I=ge("Select",Oe,z),{classNames:L,styles:U,unstyled:u,vars:Ee,dropdownOpened:W,defaultDropdownOpened:$,onDropdownClose:g,onDropdownOpen:b,onFocus:S,onBlur:w,onClick:y,onChange:j,data:x,value:p,defaultValue:q,selectFirstOptionOnChange:v,onOptionSubmit:C,comboboxProps:G,readOnly:d,disabled:m,filter:J,limit:K,withScrollArea:Q,maxDropdownHeight:X,size:h,searchable:n,rightSection:Y,checkIconPosition:Z,withCheckIcon:ee,nothingFoundMessage:P,name:te,form:oe,searchValue:le,defaultSearchValue:ae,onSearchChange:ne,allowDeselect:se,error:V,rightSectionPointerEvents:re,id:ce,clearable:ie,clearButtonProps:ue,hiddenInputProps:pe,renderOption:de,onClear:O,autoComplete:me,...he}=I,E=f.useMemo(()=>we(x),[x]),c=f.useMemo(()=>ye(E),[E]),_=be(ce),[o,k]=R({value:p,defaultValue:q,finalValue:null,onChange:j}),s=typeof o=="string"?c[o]:void 0,[D,r]=R({value:le,defaultValue:ae,finalValue:s?s.label:"",onChange:ne}),t=Ce({opened:W,defaultOpened:$,onDropdownOpen:()=>{b==null||b(),t.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{g==null||g(),t.resetSelectedOption()}}),{resolvedClassNames:F,resolvedStyles:N}=Se({props:I,styles:U,classNames:L});f.useEffect(()=>{v&&t.selectFirstOption()},[v,o]),f.useEffect(()=>{p===null&&r(""),typeof p=="string"&&s&&r(s.label)},[p,s]);const B=ie&&!!o&&!m&&!d&&a.createElement(i.ClearButton,{size:h,...ue,onClear:()=>{k(null,null),r(""),O==null||O()}});return a.createElement(a.Fragment,null,a.createElement(i,{store:t,__staticSelector:"Select",classNames:F,styles:N,unstyled:u,readOnly:d,onOptionSubmit:e=>{C==null||C(e);const l=se&&c[e].value===o?null:c[e],M=l?l.value:null;k(M,l),r(typeof M=="string"&&(l==null?void 0:l.label)||""),t.closeDropdown()},size:h,...G},a.createElement(i.Target,{targetType:n?"input":"button",autoComplete:me},a.createElement(T,{id:_,ref:H,rightSection:Y||B||a.createElement(i.Chevron,{size:h,error:V,unstyled:u}),rightSectionPointerEvents:re||(B?"all":"none"),...he,size:h,__staticSelector:"Select",disabled:m,readOnly:d||!n,value:D,onChange:e=>{r(e.currentTarget.value),t.openDropdown(),v&&t.selectFirstOption()},onFocus:e=>{n&&t.openDropdown(),S==null||S(e)},onBlur:e=>{var l;n&&t.closeDropdown(),r(o!=null&&((l=c[o])==null?void 0:l.label)||""),w==null||w(e)},onClick:e=>{n?t.openDropdown():t.toggleDropdown(),y==null||y(e)},classNames:F,styles:N,unstyled:u,pointer:!n,error:V})),a.createElement(ve,{data:E,hidden:d||m,filter:J,search:D,limit:K,hiddenWhenEmpty:!n||!P,withScrollArea:Q,maxDropdownHeight:X,filterOptions:n&&(s==null?void 0:s.label)!==D,value:o,checkIconPosition:Z,withCheckIcon:ee,nothingFoundMessage:P,unstyled:u,labelId:`${_}-label`,renderOption:de})),a.createElement("input",{type:"hidden",name:te,value:o||"",form:oe,disabled:m,...pe}))});A.classes={...T.classes,...i.classes};A.displayName="@mantine/core/Select";export{A as S};
