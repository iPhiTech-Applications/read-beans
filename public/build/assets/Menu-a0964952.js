import{b as M,v as ne,f as F,e as S,R as g,B as j,a2 as G,N as re,u as se,p as ae,U as ce,w as le,h as ie,k as ue}from"./app-374f8179.js";import{u as de}from"./use-resolved-styles-api-9ab1b421.js";import{P as U}from"./Popover-3f93f166.js";import{u as me}from"./DirectionProvider-7f2be802.js";import{u as pe}from"./use-uncontrolled-c541d6c8.js";function L(n,o){let e=n;for(;(e=e.parentElement)&&!e.matches(o););return e}function fe(n,o,e){for(let t=n-1;t>=0;t-=1)if(!o[t].disabled)return t;if(e){for(let t=o.length-1;t>-1;t-=1)if(!o[t].disabled)return t}return n}function ge(n,o,e){for(let t=n+1;t<o.length;t+=1)if(!o[t].disabled)return t;if(e){for(let t=0;t<o.length;t+=1)if(!o[t].disabled)return t}return n}function he(n,o,e){return L(n,e)===L(o,e)}function ve({parentSelector:n,siblingSelector:o,onKeyDown:e,loop:t=!0,activateOnFocus:l=!1,dir:r="rtl",orientation:i}){return s=>{var c;e==null||e(s);const a=Array.from(((c=L(s.currentTarget,n))==null?void 0:c.querySelectorAll(o))||[]).filter(d=>he(s.currentTarget,d,n)),h=a.findIndex(d=>s.currentTarget===d),p=ge(h,a,t),m=fe(h,a,t),u=r==="rtl"?m:p,v=r==="rtl"?p:m;switch(s.key){case"ArrowRight":{i==="horizontal"&&(s.stopPropagation(),s.preventDefault(),a[u].focus(),l&&a[u].click());break}case"ArrowLeft":{i==="horizontal"&&(s.stopPropagation(),s.preventDefault(),a[v].focus(),l&&a[v].click());break}case"ArrowUp":{i==="vertical"&&(s.stopPropagation(),s.preventDefault(),a[m].focus(),l&&a[m].click());break}case"ArrowDown":{i==="vertical"&&(s.stopPropagation(),s.preventDefault(),a[p].focus(),l&&a[p].click());break}case"Home":{s.stopPropagation(),s.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{s.stopPropagation(),s.preventDefault();const d=a.length-1;!a[d].disabled&&a[d].focus();break}}}}function y(n,o){return e=>{n==null||n(e),o==null||o(e)}}function we(n,o,e){var t;return e?Array.from(((t=L(e,o))==null?void 0:t.querySelectorAll(n))||[]).findIndex(l=>l===e):null}function ye(){const[n,o]=M.useState(-1);return[n,{setHovered:o,resetHovered:()=>o(-1)}]}function Me({open:n,close:o,openDelay:e,closeDelay:t}){const l=M.useRef(-1),r=M.useRef(-1),i=()=>{window.clearTimeout(l.current),window.clearTimeout(r.current)},s=()=>{i(),e===0||e===void 0?n():l.current=window.setTimeout(n,e)},a=()=>{i(),t===0||t===void 0?o():r.current=window.setTimeout(o,t)};return M.useEffect(()=>i,[]),{openDropdown:s,closeDropdown:a}}const[ke,T]=ne("Menu component was not found in the tree");var C={dropdown:"m-dc9b7c9f",label:"m-9bfac126",divider:"m-efdf90cb",item:"m-99ac2aa1",itemLabel:"m-5476e0d3",itemSection:"m-8b75e504"};const be={},V=F((n,o)=>{const{classNames:e,className:t,style:l,styles:r,vars:i,...s}=S("MenuDivider",be,n),a=T();return g.createElement(j,{ref:o,...a.getStyles("divider",{className:t,style:l,styles:r,classNames:e}),...s})});V.classes=C;V.displayName="@mantine/core/MenuDivider";const De={},$=F((n,o)=>{const{classNames:e,className:t,style:l,styles:r,vars:i,onMouseEnter:s,onMouseLeave:a,children:h,...p}=S("MenuDropdown",De,n),m=M.useRef(null),u=T(),v=k=>{var f,I;(k.key==="ArrowUp"||k.key==="ArrowDown")&&(k.preventDefault(),(I=(f=m.current)==null?void 0:f.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||I.focus())},c=y(s,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.openDropdown()),d=y(a,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.closeDropdown());return g.createElement(U.Dropdown,{...p,onMouseEnter:c,onMouseLeave:d,role:"menu","aria-orientation":"vertical",ref:G(o,m),...u.getStyles("dropdown",{className:t,style:l,styles:r,classNames:e,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:v},g.createElement("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0}),h)});$.classes=C;$.displayName="@mantine/core/MenuDropdown";const Ie={},H=re((n,o)=>{const{classNames:e,className:t,style:l,styles:r,vars:i,color:s,closeMenuOnClick:a,leftSection:h,rightSection:p,children:m,disabled:u,...v}=S("MenuItem",Ie,n),c=T(),d=se(),{dir:k}=me(),f=M.useRef(),I=c.getItemIndex(f.current),x=v,A=y(x.onMouseLeave,()=>c.setHovered(-1)),N=y(x.onMouseEnter,()=>c.setHovered(c.getItemIndex(f.current))),R=y(x.onClick,()=>{typeof a=="boolean"?a&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),_=y(x.onFocus,()=>c.setHovered(c.getItemIndex(f.current))),b=s?d.variantColorResolver({color:s,theme:d,variant:"light"}):void 0,w=s?ae({color:s,theme:d}):null;return g.createElement(ce,{...v,unstyled:c.unstyled,tabIndex:c.menuItemTabIndex,onFocus:_,...c.getStyles("item",{className:t,style:l,styles:r,classNames:e}),ref:G(f,o),role:"menuitem",disabled:u,"data-menu-item":!0,"data-disabled":u||void 0,"data-hovered":c.hovered===I?!0:void 0,onMouseEnter:N,onMouseLeave:A,onClick:R,onKeyDown:ve({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:k,orientation:"vertical",onKeyDown:x.onKeydown}),__vars:{"--menu-item-color":w!=null&&w.isThemeColor&&(w==null?void 0:w.shade)===void 0?`var(--mantine-color-${w.color}-6)`:b==null?void 0:b.color,"--menu-item-hover":b==null?void 0:b.hover}},h&&g.createElement("div",{...c.getStyles("itemSection",{styles:r,classNames:e}),"data-position":"left"},h),m&&g.createElement("div",{...c.getStyles("itemLabel",{styles:r,classNames:e})},m),p&&g.createElement("div",{...c.getStyles("itemSection",{styles:r,classNames:e}),"data-position":"right"},p))});H.classes=C;H.displayName="@mantine/core/MenuItem";const xe={},q=F((n,o)=>{const{classNames:e,className:t,style:l,styles:r,vars:i,...s}=S("MenuLabel",xe,n),a=T();return g.createElement(j,{ref:o,...a.getStyles("label",{className:t,style:l,styles:r,classNames:e}),...s})});q.classes=C;q.displayName="@mantine/core/MenuLabel";const Ee={refProp:"ref"},J=M.forwardRef((n,o)=>{const{children:e,refProp:t,...l}=S("MenuTarget",Ee,n);if(!le(e))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const r=T(),i=y(e.props.onClick,()=>{r.trigger==="click"?r.toggleDropdown():r.trigger==="click-hover"&&(r.setOpenedViaClick(!0),r.opened||r.openDropdown())}),s=y(e.props.onMouseEnter,()=>(r.trigger==="hover"||r.trigger==="click-hover")&&r.openDropdown()),a=y(e.props.onMouseLeave,()=>{(r.trigger==="hover"||r.trigger==="click-hover"&&!r.openedViaClick)&&r.closeDropdown()});return g.createElement(U.Target,{refProp:t,popupType:"menu",ref:o,...l},M.cloneElement(e,{onClick:i,onMouseEnter:s,onMouseLeave:a,"data-expanded":r.opened?!0:void 0}))});J.displayName="@mantine/core/MenuTarget";const Se={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function D(n){const o=S("Menu",Se,n),{children:e,onOpen:t,onClose:l,opened:r,defaultOpened:i,trapFocus:s,onChange:a,closeOnItemClick:h,loop:p,closeOnEscape:m,trigger:u,openDelay:v,closeDelay:c,classNames:d,styles:k,unstyled:f,variant:I,vars:x,menuItemTabIndex:A,keepMounted:N,...R}=o,_=ie({name:"Menu",classes:C,props:o,classNames:d,styles:k,unstyled:f}),[b,{setHovered:w,resetHovered:Q}]=ye(),[E,B]=pe({value:r,defaultValue:i,finalValue:!1,onChange:a}),[W,z]=M.useState(!1),P=()=>{B(!1),z(!1),E&&(l==null||l())},O=()=>{B(!0),!E&&(t==null||t())},K=()=>{E?P():O()},{openDropdown:X,closeDropdown:Y}=Me({open:O,close:P,closeDelay:c,openDelay:v}),Z=oe=>we("[data-menu-item]","[data-menu-dropdown]",oe),{resolvedClassNames:ee,resolvedStyles:te}=de({classNames:d,styles:k,props:o});return ue(()=>{Q()},[E]),g.createElement(ke,{value:{getStyles:_,opened:E,toggleDropdown:K,getItemIndex:Z,hovered:b,setHovered:w,openedViaClick:W,setOpenedViaClick:z,closeOnItemClick:h,closeDropdown:u==="click"?P:Y,openDropdown:u==="click"?O:X,closeDropdownImmediately:P,loop:p,trigger:u,unstyled:f,menuItemTabIndex:A}},g.createElement(U,{...R,opened:E,onChange:K,defaultOpened:i,trapFocus:N?!1:s,closeOnEscape:m,__staticSelector:"Menu",classNames:ee,styles:te,unstyled:f,variant:I,keepMounted:N},e))}D.extend=n=>n;D.classes=C;D.displayName="@mantine/core/Menu";D.Item=H;D.Label=q;D.Dropdown=$;D.Target=J;D.Divider=V;export{D as M,ve as a,y as c,Me as u};
