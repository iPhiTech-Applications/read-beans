import{b as m,e as B,ae as O,R as t,a2 as T,f as j,a0 as z}from"./app-374f8179.js";import{I as D}from"./Input-cbe427a8.js";import{I as V}from"./InputBase-229a26b3.js";import{u as M}from"./use-uncontrolled-c541d6c8.js";const U={multiple:!1},w=m.forwardRef((e,r)=>{const{onChange:a,children:c,multiple:f,accept:d,name:h,form:y,resetRef:s,disabled:g,capture:C,inputProps:E,...F}=B("FileButton",U,e),o=m.useRef(),I=()=>{var l;!g&&((l=o.current)==null||l.click())},u=l=>{a(f?Array.from(l.currentTarget.files):l.currentTarget.files[0]||null)};return O(s,()=>{o.current.value=""}),t.createElement(t.Fragment,null,c({onClick:I,...F}),t.createElement("input",{style:{display:"none"},type:"file",accept:d,multiple:f,onChange:u,ref:T(r,o),name:h,form:y,capture:C,...E}))});w.displayName="@mantine/core/FileButton";const $=({value:e})=>t.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(e)?e.map(r=>r.name).join(", "):e==null?void 0:e.name),q={valueComponent:$},P=j((e,r)=>{const a=B("FileInput",q,e),{unstyled:c,vars:f,onChange:d,value:h,defaultValue:y,multiple:s,accept:g,name:C,form:E,valueComponent:F,clearable:o,clearButtonProps:I,readOnly:u,capture:A,fileInputProps:l,rightSection:S,size:R,placeholder:v,...k}=a,i=m.useRef(null),[n,b]=M({value:h,defaultValue:y,onChange:d,finalValue:s?[]:null}),_=Array.isArray(n)?n.length!==0:n!==null,x=S||(o&&_&&!u?t.createElement(z,{...I,variant:"subtle",onClick:()=>b(s?[]:null),size:R,unstyled:c}):null);m.useEffect(()=>{var p;(Array.isArray(n)&&n.length===0||n===null)&&((p=i.current)==null||p.call(i))},[n]);const N=F;return t.createElement(w,{onChange:b,multiple:s,accept:g,name:C,form:E,resetRef:i,disabled:u,capture:A,inputProps:l},p=>t.createElement(V,{component:"button",ref:r,rightSection:x,...p,...k,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:a,unstyled:c,size:R},_?t.createElement(N,{value:n}):t.createElement(D.Placeholder,null,v)))});P.classes=V.classes;P.displayName="@mantine/core/FileInput";const L=P;export{L as F};
